<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Silence and tears">
<meta property="og:type" content="website">
<meta property="og:title" content="Jin Wang">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Jin Wang">
<meta property="og:description" content="Silence and tears">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jin Wang">
<meta name="twitter:description" content="Silence and tears">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Jin Wang</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?26e805ea620ee206153bac956aeccd78";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jin Wang</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            日程表
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/16/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jin Wang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/16/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-16T23:40:04+08:00">
                2018-08-16
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/16/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/16/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/09/2018-08-09-liulishuo-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jin Wang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/09/2018-08-09-liulishuo-7/" itemprop="url">Liulishuo English Reading Day7</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-09T00:00:00+08:00">
                2018-08-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/09/2018-08-09-liulishuo-7/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/09/2018-08-09-liulishuo-7/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="How-the-‘brainy’-book-become-a-publishing-phenomenon"><a href="#How-the-‘brainy’-book-become-a-publishing-phenomenon" class="headerlink" title="How the ‘brainy’ book become a publishing phenomenon"></a>How the ‘brainy’ book become a publishing phenomenon</h2><ul>
<li>brainy adj. 聪明的；智商很高的</li>
<li>publishing phenomenon</li>
</ul>
<p>This is a story about a book that just kept selling, catching publishers, booksellers and even its author off guard. The book is Sapiens, by the Israeli academic Yuval Noah Harari, published in the UK in September 2014. It’s a recondite work of evolutionary history charting the development of humankind through a scholarly examination of our ability to cooperate as a species. </p>
<ul>
<li>catch sb off guard: 使某人措手不及</li>
<li>recondite adj. 高深的；深奥的</li>
<li>chart v. 记录</li>
<li>scholarly adj. 学术视角的</li>
</ul>
<p>Sapiens has sold a further half million copies, establishing itself firmly at the top of the bestseller lists. The book’s wild success is symptomatic of a broader trend in our book-buying habits: a surge in the popularity of intelligent, challenging nonfiction, often books that are several years old.</p>
<ul>
<li>wild success 巨大的成功</li>
<li>symptomatic of sth 某物存在的显示<ul>
<li>eg. Jealous is usually symptomatic of low self-esteem.</li>
<li>嫉妒通常是不自信的显示。</li>
</ul>
</li>
<li>surge n. 激增，突然上涨</li>
</ul>
<p>It was trade publication, the Bookseller, that first noted the rise of what it called the “brainy backlist”. It also highlighted a concomitant fall in the sales of the books that had been such a staple of publishers’ catalogues—celebrity biographies. Mark Richards, publisher at John Murray Press, sees the return to serious works of nonfiction as a response to the spirit of the age. “People have a hunger both for information and facts, and for nuanced exploration of issues, of a sort that books are in a prime position to provide.” he says.</p>
<ul>
<li>trade publication: 在某一个领域内发行的杂志期刊</li>
<li>backlist n. 在售的图书目录</li>
<li>concomitant adj. describe sth that is happening and connected with another thing 同时发生的；伴随的<ul>
<li>an increase in student numbers and the concomitant in class size</li>
</ul>
</li>
<li>staple n. 订书钉；某物的主要部分或主要产品<ul>
<li>staple of publishers’ catalogue</li>
</ul>
</li>
<li>celebrity biography 名人传记</li>
<li>have a hunger for sth</li>
<li>nuanced adj. 有细微差别的</li>
</ul>
<p>At a time when politics is more furious and fragmented than ever, when technology is colonizing our everyday existence, when medicine is reshaping our lives, we still look to books to make sense of things, to feel ourselves part of a great communal effort to understand our age. These are serious times and they demand serious, intelligent and challenging books.</p>
<ul>
<li>furious adj. 极度生气的；怒不可遏的</li>
<li>make sense of things: understand something that is difficult or has no clear meaning</li>
<li>communal n. 在较大的社会内部不同的群体之间的<ul>
<li>communal harmony 群体和谐</li>
</ul>
</li>
</ul>
<p>这个故事与一本卖到停不下来的畅销书有关，此书的畅销程度连出版商、书商、甚至是作者本人都没有预料到。这本书就是来自以色列学者尤瓦尔·诺亚·赫拉利的《人类简史》，于 2014 年 9 月在英国发行。这是一部关于进化史的深奥的作品，通过从学术视角检验人类作为一个物种所具有的协作能力，记录了人类的发展。</p>
<p>《人类简史》一书已加售五十万册，坐稳了冠军畅销书的位置。该书的巨大成功反应了我们购书习惯中的一个更广泛的趋势，那就是智识类的、具有挑战性的非虚构作品受到追捧，销量突增，且这些作品通常已经出版几年了。</p>
<p>贸易出版杂志 Bookseller 是第一个注意到此类图书的崛起的，它将其称为“烧脑存书目录”。该杂志同时也强调，出版商们的常年主打书目——名人传记类书籍的销量随之下降了。马克·理查德是约翰·穆雷出版社的一名出版人，他把人们对纪实类严肃作品的回归视为对时代精神的一种回应，他说：“人们渴望信息和真相，也渴求对严肃议题进行细微差别上的探索，想要满足这种渴求，书籍是不二之选。”</p>
<p>在一个政治活动比以往任何时候都怒不可遏和支离破碎的时代，在一个科技殖民着我们的日常生活的时代，在一个医学重塑着我们的生命的时代，我们仍然盼望着书本能帮助我们理解万物，能让我们感觉自己是群体努力的一份子，帮助我们去理解所处的时代。这是严肃的时代，所以需要严肃的、有智识的、有挑战性的书本与之呼应。</p>
<h2 id="优秀表达"><a href="#优秀表达" class="headerlink" title="优秀表达"></a>优秀表达</h2><ul>
<li>At a time when politic is more furious and fragmented than ever, when technology is colonizing our everyday existence, when medicine is reshaping our lives, we still look to books to make sense of things, to feel ourselves part of a great communal effort to understand our age. </li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/09/2018-08-09-GRE-AWA-MODEL-ESSAYS-ISSUE-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jin Wang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/09/2018-08-09-GRE-AWA-MODEL-ESSAYS-ISSUE-1/" itemprop="url">GRE AWA MODEL ESSAYS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-09T00:00:00+08:00">
                2018-08-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/09/2018-08-09-GRE-AWA-MODEL-ESSAYS-ISSUE-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/09/2018-08-09-GRE-AWA-MODEL-ESSAYS-ISSUE-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Issue-1"><a href="#Issue-1" class="headerlink" title="Issue 1"></a>Issue 1</h2><p><strong>“We can usually learn much more from people whose views we share than from people whose views contradict our own.”; disagreement can cause stress and inhibit learning.”</strong></p>
<h2 id="Essay"><a href="#Essay" class="headerlink" title="Essay"></a>Essay</h2><p>&emsp;&emsp;Do we learn more from people whose ideas we share in common than from those whose ideas contradict ours? The speaker deems so, for the reason that disagreement can cause stress and inhibit learning. I concede that undue discord can impede learning. Otherwise, in my view we learn far more from discourse and debate with those whose ideas we oppose than from people whose ideas are in accord with our own.</p>
<p><strong>第一段</strong>：作者复述了一下题目中的问题。随后表达了自己的观点，但我们可以看出，作者并不是完全赞同或完全反对一种观点，而是说“我承认争论会阻碍学习，但在另一方面，我认为从观点不同的人那里会学到更多的东西。”这虽然是一边倒的写法，但是倒的不严重，从下文我们也可以看出，作者并不是一直在说“we can learn more from opponents”，而是先用两段的内容写了”debate”的坏处，再用两段写了自己依然认为”we can learn more from people with different views”。这好像是介于“一边倒”与“折中式”的一种论证过程。</p>
<p>首先，“Do we learn more from people whose ideas we share in common than from those whose ideas contradict ours? The speaker deems so, for the reason that disagreement can cause stress and inhibit learning.”这基本就是照抄了题目，为了引出话题。我们可以学习一下这个用法“The speaker deems so, for the reason that…”。</p>
<p>其次作者用两句话分别说明了自己的两个主要观点。第一个“I concede that undue discord can impede learning.”作者说“我承认过度的争吵可以阻碍学习。”这里作者很聪明，表达的观点不是“discord impedes learning”而是”undue discord impedes learning”，下面两段也都是在说“undue discord”为什么会”impede learning”。第二个“Otherwise, in my view we learn far from discourse and debate with those whose ideas we oppose than from those whose ideas are in accord with our own.”说明作者实际上，就是认为“discourse and debate facilitate(help) learning”。(这里的otherwise我不知道具体该怎么理解。) 所以这样看来，虽然作者貌似是偏向于“折中式”，但实际上还是“一边倒”的写法，之前我对文章的理解有误，因为不认识undue是什么意思，所以单词很重要啊。作者也给我们提供了一个很好的写作方法，如果素材不够，我们不一定要一直说某一方面的好，也可以说另一方面有多差，或者另一方面在很极端的情况下就会变的差了。其实我们阅读下文论述也可以知道，作者想表达“undue discord can impede learning”但是“rational and reasonable debate help learning”的意思。可见文章的大局观，从第一段便确定了文章的论述内容。第1段引出论题，确立观点。第2、3段“admit that undue discord impede learning”，第4、5段细说“rational and reasonable debate facilitate(help) learning”，第6段summary。文章写作思路清晰，之后写也好写，该写啥就写啥就行了。</p>
<ul>
<li>contradict v. 与…对立（这个单词我认识，我只知道它是“对立”的意思，但我从来不知道怎么用这个词，要不要加介词，加什么介词，所以尽管认识这个单词，但是从来也不会使用它，所以今后在学习过程中要积累，记住单词的用法，不仅仅是在文章中能看懂，也要将其使用到自己的文章当中）<ul>
<li>contradict 这个词的用法很简单，A contradict B，A与B对立</li>
<li>eg. Your actions contradict your words.</li>
</ul>
</li>
<li>share in common 以后可以用这个短语来表达立场相同的人”people whose ideas we share in common”</li>
<li>concede v. 不情愿的承认 to admit sth in an unwillingly way</li>
<li>undue adj. 过度的 more than is reasonable or necessary</li>
<li>discord n. 不和，争吵</li>
<li>impede v. 阻碍；妨碍</li>
<li>discourse n. 交谈（这个单词单纯的指两个人的交谈，并没有争论的意思）: the use of word to exchange thoughts and ideas</li>
<li>in accord with：accord n. 一致；符合：a formal or official agreement，所以我们又学习了一种说法表示“立场相同的人”：people whose ideas are in accord with our own</li>
</ul>
<p>&emsp;&emsp;Admittedly, under some circumstances disagreement with others can be counterproductive to learning. For supporting examples one need look no further than a television set. On today’s typical television or radio talk show, disagreement usually manifests itself in meaningless rhetorical bouts and shouting matches, during which opponents vie to have their own message heard, but have little interest either in finding common ground with or in acknowledging the merits of the opponent’s viewpoint. Understandably, neither the combatants nor the viewers learn anything meaningful. In fact, these battles only serve to reinforce the predispositions and biases of all concerned. The end result is that learning is impeded.</p>
<p><strong>第二段</strong>: 开头“Admittedly(不可否认的)”对应第一段的“concede: unwilling to agree”。“Admittedly, under some circumstances disagreement with others can be counterproductive to learning.”也就是第一段的“undue(under some circumstances) discord can impede learning”。第一句话表达本段的论点，接下来开始举example。”For supporting examples one need to look no further than a television set.”这里最值得我们学习的地方是，我们习惯用“for example / for instance”来举例子，而这里作者使用的是“For supporting examples”这里虽然只是加了一个supporting，但是却脱颖而出，不是大众式的“for example”，与之类似，我们可以在以后的写作中写“For supporting examples, …”, “For supporting instance, …”。“no further than”后面接一个谁都知道的example，所以以后觉得自己举的example太common太simple，就可以用“For supporting examples, one need to look no further than (something common and simple)”，小事折射出大道理。“On today’s typical television or radio talk show, disagreement usually manifest itself in meaningless rhetorical bouts and shouting matches, during which opponents vie to have their own message heard, but have little interest either in finding common ground with or in acknowledging the merits of the opponent’s viewpoint.”这句话比较长，但是结构不难理解，在如今的“typical television and radio talk show”中，人们只是在不停的说自己的观点(opponents vie to have their own message heard)，完全不顾别人的观点(have little interest either in finding common ground with or in acknowledging the merits of the opponents’ viewpoints)，这也是当今社会的一大问题，我们都知道，辩论赛很重要的一个环节就是双方都要先确定好某一个基础(common ground)，咱俩在这个基础之上，再辩论。然而当今社会大家简直是胡乱一气，我说我的，你说你的，他说他的(meaningless rhetorical bouts and shouting matches)，这样的交流简直毫无意义“meaningless”。”Understandably, neither the combatants nor the viewers learn anything meaningful. In fact, there battles only serve to reinforce the predispositions and biases of all concerned. The end result is that learning is impeded.”最后结尾，无论是combatants还是viewers都不能从中受益。这种battles只会加深双方的不和predispositions and biases。最后简单一句话直扣第一段的观点“The end result is that learning is impeded.”</p>
<ul>
<li>manifest v. 使显现，使显露，表明: to show something clearly, especially a feeling, an attitude or a quality</li>
<li>rhetorical adj. 语言上的，文字上的，辞藻华丽（却往往无内涵的）</li>
<li>bout n. 一回合，较量，一阵 </li>
<li>vie v. 竞争：to compete with others in an attempt to get or win something</li>
<li>common ground 一致之处，共同点：a basis agreed to by all parties for reaching a mutual understanding</li>
<li>combatant n. 战士；好斗者（combat n. 战斗）</li>
<li>predisposition n. 倾向</li>
</ul>
<p>&emsp;&emsp;Disagreement can also inhibit learning when two opponents disagree on fundamental assumptions needed for meaningful discourse and debate. For example, a student of paleontology learns little about the evolution of an animal species under current study by debating with an individual whose religious belief system precludes the possibility of evolution to begin with. And, economics and finance students learn little about the dynamics of a laissez-faire system by debating with a socialist whose view is that a centralized power should control all economic activity.</p>
<p><strong>第三段</strong>: 之前看首段后对文章内容的猜测再一次出现了错误，这就是“一边倒”式的文章，我还以为前期会缓和一下。那么接着看第三段如何说明“undue discord can impede learning”。”Disagreement can also inhibit learning when two opponents disagreement on fundamental assumptions needed for meaningful discourse and debate.”这与我们之前说的一致，一个”rational, reasonable, meaningful”的“discourse and debate”必须要有”agreement on fundamental assumptions”。”For example, a student of paleontology learns little about the evolution of an animal species under current study by debating with an individual whose religious belief system precludes the possibility of evolution to begin with.”这个例子很生动形象，一个paleontology专业的人和一个不信仰进化论的人debate前沿的动物种类问题，那个paleontology的哥们能学到啥呢，啥也学不到。这就说明了opponents有一个agreement on fundamental assumptions是多么重要。“And, economics and finance students learn little about the dynamics of a laissez-faire system be debating with a socialist whose view is that a centralized power should control all economic activities.”这里举了另一个形象的例子，经济学的学生们和一个认为“a centralized power should control all economic activities”的政治学家辩论，他们能学到自由市场的活泼性、多样性（dynamics of a laissez-faire system）吗，不能。第三段主要举了两个例子来阐述观点：没有agreements on fundamental assumptions，那么只能导致debate impedes learning的后果了。</p>
<ul>
<li>paleontology n. 古生物学（这单词，记吧，没别的招，多看几遍就记住了）</li>
<li>preclude v. 排除</li>
<li>laissez-faire n. 自由放任政策；放任主义（我个人的理解是指完全放开的市场经济，政府不加以干涉）</li>
</ul>
<p>&emsp;&emsp;Aside from the foregoing two provisos, however, I fundamentally disagree with the speaker’s claim. Assuming common ground between two rational and reasonable opponents willing to debate on intellectual merits, both opponents stand to gain much from that debate. Indeed it is primarily through such debate that human knowledge advances, whether at the personal, community, or global level.</p>
<p><strong>第四段</strong>: 从这段开始，文章开始转折。前面都在说“debate impedes learning”，但作者的观点是“debate facilitates(helps) learning”啊。那么现在，就开始转折吧。“Aside from the foregoing two provisions, however, I fundamentally disagree with the speaker’s claim.”然而，除了前面所述的两点，我非常同意“debate facilitates(helps) learning”这一说法。这里我们可以学习一下文章结构的转换，前面写了“(undue) discourse and debate impede learning”现在要写“(rational and reasonable) debate facilitates(helps) learning”，怎么转折呢，就用“Aside from the foregoing two provisions, however, I fundamentally agree with blah blah…”。“Assuming common ground between two rational and reasonable opponents willing to debate on intellectual merits, both opponents stand to gain much from that debate.”与前文形成对比，假设现在有common ground了，那么双方opponents都会gain much from that debate。”Indeed it is primarily through such debate that human knowledge advances, whether at the personal, community or, global level.”这里说的很精彩，正是通过这样的辩论，人类知识才得以进步，无论从个人，社会还是国家层面(whether at personal, community, or global level)。这句话很值得记住，可以在很多题材的文章中升华主题。“Indeed it is primarily through such debate that human knowledge advances, whether at personal, community, or global level.”</p>
<ul>
<li>foregoing adj. 前面的；先前的；前述的</li>
<li>provision n. 条款</li>
</ul>
<p>&emsp;&emsp;At the personal level, by listening to their parents’ rationale for their seemingly oppressive rules and policies teenagers can learn how certain behaviors naturally carry certain undesirable consequences. At the same time, by listening to their teenagers concerns about autonomy and about peer pressures parents can learn the valuable lesson that effective parenting and control are two different things. At the community level, through dispassionate dialogue an environmental activist can come to understand the legitimate economic concerns of those whose jobs depend on the continued profitable operation of a factory. Conversely, the latter might stand to learn much about the potential public health price to be paid by ensuring job growth and a low unemployment rate. Finally, at the global level, two nations with opposing political or economic interests can reach mutually beneficial agreements by striving to understand the other’s legitimate concerns for its national security, its political sovereignty, the stability of its economy and currency, and so forth.</p>
<p><strong>第五段</strong>：这一段实为精彩。分别从个人层面（personal level），社会层面（community level），和国家层面（global level）阐述了“rational and reasonable debate”的重要性和益处。首先是个人层面”At the personal level, by listening to their parents’ rationale for their seemingly oppressive rules and policies, teenagers can learn how certain behaviors naturally carry out undesirable consequences. At the same time, by listening to their teenagers concerns about autonomy and peer pressure, parents can learn the valuable lesson that effective parenting and control are two different things.”这里从个人层面（personal level），写了孩子与家长的矛盾与不和，双方都会从中学到东西。孩子从“parents’ rationale for seemingly oppressive rules and policies”可以学到“how certain behaviors naturally carry out undesirable consequences”，家长从”teenagers concerns about autonomy and peer pressure”可以学到”the valuable lesson that effective parenting and control are two different things”。接下来是社会层面（community level），“At the community level, through dispassionate dialogue an environmental activist can come to understand the legitimate economic concerns of those whose jobs depend on the continued profitable operation of a factory. Conversely, the latter might stand to learn much about the potential public health price to be paid by ensuring job growth and a low unemployment rate.”这里从社会层面（community level），选取了环境保护主义者和立法者之间心平气和的谈话(dispassionate dialogue)，环境保护主义者(environmental activist)可以理解有些人的工作完全依赖日夜不停的工厂(understand the legitimate economic concerns of those whose jobs depend on the continued profitable operation of a factory)，立法者和管理者也会了解到追求低失业率给环境和人民健康付出的潜在代价(the potential public health price to be paid by ensuring job growth and a low unemployment rate)。最后从全球层面（global level），”Finally, at the global level, two nations with opposing political and economical interests can reach mutually beneficial agreement by striving to understand the other’s legitimate concerns for its national security, political sovereignty,the stability of its economic and currency, and so forth.”。从国家层面，政治经济利益相违背的国家(two nations with opposing political and economic interests)，通过理解对方在国家安全、政治主权和经济与货币稳定性的担忧(by striving to understand the other’s legitimate concerns for its national security, political sovereignty, and the stability of its economic and currency, and so forth)，就可以实现共赢的利益(can reach mutually beneficial agreements)。这段通过三个层面的举例论证，表达出“debate facilitate(helps) learning”的意思，而且其含义已经远远扩大，小到个人，大到国家。</p>
<ul>
<li>rationale n. 基本原理</li>
<li>oppressive adj. 压迫的；沉重的</li>
<li>dispassionate adj. 心平气和的；平心静气的(passionate 激情的)</li>
<li>sovereignty n. 主权（reign v. 统治）</li>
<li>and so forth 等等，诸如此类 continuing in the same way</li>
</ul>
<p>&emsp;&emsp;In sum, unless two opponents in a debate are each willing to play on the same field and by the same rules, I concede that disagreement can impede learning. Otherwise, reasoned discourse and debate between people with opposing viewpoints is the very foundation upon which human knowledge advances. Accordingly, on balance the speaker is fundamentally correct.</p>
<p><strong>第六段</strong>：最后一段要总结啦。”In sum, unless two opponents in a debate are each willing to play on the same file and by the same rules, I concede that disagreement can impede learning.”。除非两者能公平的辩论(play on the same field and by the same rules)，那那个speaker就说的对呗。”Otherwise, reasoned discourse and debate between people with opposing viewpoint is the very foundation upon which human knowledge advances. Accordingly, on balance the speaker is fundamentally correct.”最后两句用到了前几段出现的话再次升华，最后很幽默的说一句，speaker的话也倒不是不对昂。</p>
<ul>
<li>accordingly adv. 因此；相应的；于是</li>
<li>on balance 总之</li>
</ul>
<h2 id="写在文章的最后"><a href="#写在文章的最后" class="headerlink" title="写在文章的最后"></a>写在文章的最后</h2><p>&emsp;&emsp;现在已经1:51am了，这篇文章大概敲了快四个小时吧，以前从没写过GRE的作文，这也是差不多第一次看别人的GRE作文，第一印象就是字数好多，要求的字数也好多，再其次就是这篇文章真的好多好多的词和短语和结构用法都不会，但通过查字典，自己分析，感觉在这一篇文章中学到了太多太多的东西，也再一次认识到了自己知识的匮乏。这些东西也不是一蹴而就的，需要不断的积累，不断的磨练，你也不知道你在什么时候会走到哪一步，也许这就是学习有趣的地方吧，很多都是个未知数。可是留给我们的时间还有多少呢，很多事情都是最近思考才想明白的，大一大二浪费了那么多宝贵的时间，因为无知，因为眼界狭窄，如今称不上眼界宽广的人，但比之前的自己，长大了许多。如今也开始努力，开始不再怀疑梦想，努力的去实现它。这条路必经布满靳棘，太容易让人放弃，而且你也一定是孤身一人的在走，在真正的困难面前，没有人帮的了你，你也心里清楚，就算有人要帮你，你也要拒绝，因为这是你的战斗，你必须一个人战胜它，才叫胜利。有时候也很享受这种生活，很充实，至少学了一天，我不会后悔，但如果玩了一天，那时间过去了就过去了，再也不会回来了。这就叫矫情吧，在痛苦中享受着被虐的快感。不知道这种生活会持续到什么时候，也不知道自己终究会坚持多久，但我知道，要想成功，必须坚持，而且要坚持到最后的最后。听过很多人的故事，但我们终究要写下我们自己的故事，而我希望，我能写的精彩一些。马上也就要开学了，不知道下学期，又会是怎样的自己，马上也就要毕业了，不知道下一站，会到哪里。人生这趟旅途，走走停停，停停走走，你永远不知道自己会走到哪里，也不知道自己在哪里驻足，和谁，看什么样的风景。</p>
<p>&emsp;&emsp;今天的口语还没练，网课还没刷，不矫情了，滚去学习了</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/08/2018-08-08-liulishuo-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jin Wang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/08/2018-08-08-liulishuo-6/" itemprop="url">Liulishuo English Reading Day6</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-08T00:00:00+08:00">
                2018-08-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/08/2018-08-08-liulishuo-6/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/08/2018-08-08-liulishuo-6/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Therapists-are-augmenting-eating-disorder-treatment-with-virtual-reality-headsets"><a href="#Therapists-are-augmenting-eating-disorder-treatment-with-virtual-reality-headsets" class="headerlink" title="Therapists are augmenting eating-disorder treatment with virtual-reality headsets"></a>Therapists are augmenting eating-disorder treatment with virtual-reality headsets</h2><ul>
<li>therapist n. 心理治疗师</li>
<li>eating-disorder 饮食失调</li>
<li>virtual-reality VR</li>
</ul>
<p>Though most consumers aren’t yet sure what to do with VR, some psychologists are using it to treat anorexia and bulimia.  </p>
<ul>
<li>anorexia n. 厌食症</li>
<li>bulimia n. 贪食症</li>
</ul>
<p>The details: According to the Wall Street Journal, therapists are using VR along with more standard therapy practices to ease patients’ body-and food-related issues. </p>
<ul>
<li>alone with sth</li>
<li>therapy practices</li>
<li>ease patients’ body-and food-related issues</li>
</ul>
<p>For instance, one doctor combines cognitive behavioral therapy with VR to initially place patients in a relaxing scene. After that, he uses VR to show them an environment that will be more stressful, like a restaurant, and helps them work through any anxiety.  </p>
<ul>
<li>combine A with B</li>
<li>cognitive behavior therapy<ul>
<li>cognitive: connected with thinking or conscience mental processes</li>
<li>CBT [心理学术语]认知行为疗法，利用谈话作为治疗方法，解决患者的心理、行为问题</li>
</ul>
</li>
<li>initially: at the beginning</li>
<li>work through 解决，一步一步的解决</li>
</ul>
<p>Does it help? A meta-analysis from French and Australian researchers, which was published in April, looked at 26 previous studies and found they indicate that VR is “an acceptable and promising therapeutic tool” for eating-disorder patients. </p>
<ul>
<li>meta-analysis：元分析，将多个研究结果整合在一起的统计方法</li>
<li>an acceptable and promising therapeutic tool</li>
</ul>
<p>Might make sense: VR has rapidly gotten better and cheaper; you can buy a self-contained Oculus Go headset for $199. As VR technology improves, virtual situations will get more realistic while staying far easier to control than real-world settings. And there’s already precedent for using VR for better health: the technology has long been studied for its potential as a painkiller, for instance.</p>
<ul>
<li>self-contained 自给自足的，这里指设备齐全，功能齐全</li>
<li>precedent n. 先例，前例<ul>
<li>break precedent 开先例，开先河</li>
<li>unprecedented adj. 史无前例的</li>
</ul>
</li>
<li>painkiller n. 止痛药</li>
</ul>
<h2 id="Translation"><a href="#Translation" class="headerlink" title="Translation"></a>Translation</h2><p>虽然大多数消费者还不确定如何面对虚拟现实技术（VR），但一些心理学家正在用它来治疗厌食症和贪食症。</p>
<p>更多细节：根据《华尔街日报》，治疗师们现在不仅使用一些较为标准的治疗方法，还会运用虚拟现实技术来缓解患者的饮食健康问题。</p>
<p>例如，一位医生将认知行为疗法与虚拟现实技术结合起来，这个疗法首先将患者置于轻松的场景中。 在那之后，他使用虚拟现实技术向他们展示一个压力更大的环境，例如餐馆，以此帮助他们解决任何焦虑。</p>
<p>这个疗法有用吗？ 来自法国和澳大利亚的研究人员于4月份发表了一项元分析，统合了之前的 26 项研究后发现，这些研究表明虚拟现实对于饮食失调患者来说是“一种可接受且有前景的治疗工具”。</p>
<p>这事儿可能靠谱：虚拟现实发展迅速，也更加便宜；花 199 美元就可以买到一个独立的 Oculus Go 头戴设备。 随着虚拟现实技术的改进，虚拟情境将变得更加真实，同时比真实世界的场景更容易控制。 并且，已经有使用虚拟现实来改善健康状况的先例：例如，有研究称该技术一直有作为止痛药的潜力。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/08/2018-08-08-GRE-Reading-200-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jin Wang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/08/2018-08-08-GRE-Reading-200-1/" itemprop="url">GRE Reading 200-1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-08T00:00:00+08:00">
                2018-08-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/08/2018-08-08-GRE-Reading-200-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/08/2018-08-08-GRE-Reading-200-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1>2 Francoise Duparc</h1>

<h2>Passage &amp; Questions</h2>

<p>  All of Francoise Duparc’s surviving paintings blend portraiture and genre. Her subjects appear to be acquaintances whom she has asked to pose; she has captured both their self-consciousness and the spontaneity of their everyday activities, the depiction of which characterizes genre painting. But genre painting, especially when it portrayed members of the humblest classes, was never popular in eighteenth-century France. The Le Nain brothers and Georges de La Tour, who also chose such themes, were largely ignored. Their present high standing is due to a different, more democratic political climate and to different aesthetic values: we no longer require artists to provide ideal images of humanity for our moral edification but rather regard such idealization as a falsification of the truth. Duparc gives no improving message and discreetly refrains from judging her subjects. In brief, her works neither elevate nor instruct. This restraint largely explains her lack of popular success during her lifetime, even if her talent did not go completely unrecognized by her eighteenth-century French contemporaries.</p>

<ol start="24"><br>    <li rel="24"><br>        <p>According to the passage, modern viewers are not likely to value which of the following qualities in a painting? <br><br>        (A) The technical elements of the painting <br><br>        (B) The spontaneity of the painting <br><br>        (C) The moral lesson imparted by the painting <br><br>        (D) The degree to which the painting realistically depicts its subject <br><br>        (E) The degree to which the artist’s personality is revealed in the painting <br><br>        </p><br>        <br><br>    </li><br><br><li rel="25"><p>If the history of Duparc’s artistic reputation were to follow that of the Le Nain brothers and Georges de La Tour, present-day assessments of her work would be likely to contain which of the following? <br><br>(A) An evaluation that accords high status to her work <br><br>(B) Acknowledgement of her technical expertise but dismissal of her subject matter as trivial <br><br>(C) Agreement with assessments made in her own time but acknowledgements of the exceptional quality of a few of her paintings <br><br>(D) Placement of her among the foremost artists of her century <br><br>(E) A reclassification of her work as portraiture rather than genre painting</p><br></li><br><li rel="26"><p>It can be inferred from the passage that the term “genre painting” would most likely apply to which of the following? <br><br>(A) A painting depicting a glorious moment of victory following a battle <br><br>(B) A painting illustrating a narrative from the Bible <br><br>(C) A portrayal of a mythological Greek goddess <br><br>(D) A portrayal of a servant engaged in his work <br><br>(E) A formal portrait of an eighteenth-century king</p><br></li><br><li rel="27"><p>The argument of the passage best supports which of the following contentions concerning judgments of artistic work? <br><br>(A) Aesthetic judgments can be influenced by the political beliefs of those making the judgment. <br><br>(B) Judgments of the value of an artist’s work made by his or her contemporaries must be discounted before a true judgment can be made. <br><br>(C) Modern aesthetic taste is once again moving in the direction of regarding idealistic painting as the most desirable form of painting. <br><br>(D) In order to be highly regarded, an artist cannot be solely identified with one particular kind of painting. <br><br>(E) Spontaneity is the most valuable quality a portrait painter can have.</p><br></li><br></ol>

<h2 id="questions-analysis">Questions Analysis</h2>

<ol start="24"><li rel="24">According to the passage, modern viewers are not likely to value which of the following qualities in a painting? <br><br>(A) The technical elements of the painting <br><br>(B) The spontaneity of the painting <br><br>(C) The moral lesson imparted by the painting <br><br>(D) The degree to which the painting realistically depicts its subject <br><br>(E) The degree to which the artist’s personality is revealed in the painting</li><br></ol>

<p><strong>Location</strong>:”…we no longer require artists to provide ideal images of humanity for our moral edification but rather regard such idealization as a falsification of the truth. ” <br><br><strong>Answer</strong>: C</p>

<ol start="25"><li rel="25">If the history of Duparc’s artistic reputation were to follow that of the Le Nain brothers and Georges de La Tour, present-day assessments of her work would be likely to contain which of the following? <br><br>(A) An evaluation that accords high status to her work <br><br>(B) Acknowledgement of her technical expertise but dismissal of her subject matter as trivial <br><br>(C) Agreement with assessments made in her own time but acknowledgements of the exceptional quality of a few of her paintings <br><br>(D) Placement of her among the foremost artists of her century <br><br>(E) A reclassification of her work as portraiture rather than genre painting(瞎说，这个肯定不对)</li><br></ol>

<p><strong>Location</strong>: “Their present high standing is due to a different, more democratic political climate and to different aesthetic values” <br><br><strong>Answer</strong>: A</p>

<ol start="26"><li rel="26">It can be inferred from the passage that the term “genre painting” would most likely apply to which of the following? <br><br>(A) A painting depicting a glorious moment of victory following a battle <br><br>(B) A painting illustrating a narrative from the Bible <br><br>(C) A portrayal of a mythological Greek goddess <br><br>(D) A portrayal of a servant engaged in his work <br><br>(E) A formal portrait of an eighteenth-century king</li><br></ol>

<p><strong>Location</strong>: POE <br><br><strong>Answer</strong>: D</p>

<ol start="27"><li rel="27">The argument of the passage best <strong>supports</strong> which of the following contentions concerning judgments of artistic work? <br><br>(A) Aesthetic judgments can be influenced by the political beliefs of those making the judgment. <br><br>(B) Judgments of the value of an artist’s work made by his or her contemporaries must be discounted before a true judgment can be made. <br><br>(C) Modern aesthetic taste is once again moving in the direction of regarding idealistic painting as the most desirable form of painting. <br><br>(D) In order to be highly regarded, an artist cannot be solely identified with one particular kind of painting. <br><br>(E) Spontaneity is the most valuable quality a portrait painter can have.</li><br></ol>

<p><strong>Location</strong>: “Their present high standing is due to a <strong>different</strong>, more democratic <strong>political climate</strong> and to <strong>different aesthetic values</strong>: ” <br><br><strong>Answer</strong>: A</p>

<h2 id="words">Words</h2>

<ul><li>blend: mix, combine</li><br><li>portraiture n. 肖像画</li><br><li>genre n. 风俗画</li><br><li>discreetly adj. 谨慎的</li><br><li>refrain v. 避免；抑制</li><br><li>falsification n. 编造；伪造；歪曲</li><br><li>foremost adj. :the most important or famous</li><br><li>contention n. 争论；辩论；论点</li><br></ul>



<h1 id="3-paule-marshalls-brown-girl">3 Paule Marshall’s Brown Girl</h1>



<h2 id="passage-questions-1">Passage &amp; Questions</h2>

<p>  Paule Marshall’s Brown Girl, Brownstones (1959) was a landmark in the depiction of female characters in Black American literature. Marshall avoided the oppressed and tragic heroine in conflict with White society that had been typical of the protest novels of the early twentieth century. Like her immediate predecessors, Zora Neale Hurston and Gwendolyn Brooks, she focused her novel on an ordinary Black woman’s search for identity within the context of a Black community. But Marshall extended the analysis of Black female characters begun by Hurston and Brooks by depicting her heroine’s development in terms of the relationship between her Barbadian American parents, and by exploring how male and female roles were defined by their immigrant culture, which in turn was influenced by the materialism of White America. By placing characters within a wider cultural context, Marshall attacked racial and sexual stereotypes and paved the way for explorations of race, class, and gender in the novels of the 1970’s.</p>

<ol start="24"><li rel="24"><p>The passage is primarily concerned with <br><br>(A) comparing the works of three Black American authors <br><br>(B) describing common themes in Black American literature <br><br>(C) discussing an important work in Black American literature <br><br>(D) providing insights about Black American literature in the early twentieth century <br><br>(E) providing historical information about the writing of Black American novels in the second half the twentieth century</p></li><br><li rel="25"><p>According to the passage, Hurston, Brooks, and Marshall are alike in that they <br><br>(A) did not examine the effects of White culture on their characters’ lives <br><br>(B) were heavily influenced by the protest novels of the early twentieth century <br><br>(C) used Black communities as the settings for their novels <br><br>(D) wrote primarily about the difficulties their characters encountered in White culture <br><br>(E) wrote exclusively about female characters and the experiences of women</p></li><br><li rel="26"><p>The author’s description of the way in which Marshall depicts her heroine’s development is most probably intended to <br><br>(A) continue the discussion of similarities in the works of Brooks, Hurston, and Marshall <br><br>(B) describe the specific racial and sexual stereotypes that Marshall attacked <br><br>(C) contrast the characters in Marshall’s novels with those in later works <br><br>(D) show how Marshall extends the portrayal of character initiated by her predecessors <br><br>(E) compare themes in Marshall’s early work with themes in her later novels</p></li><br><li rel="27"><p>It can be inferred that the author of the passage would describe Brown Girl, Brownstones as being <br><br>(A) completely different from novels written before 1959 <br><br>(B) highly influenced by novels written in the early twentieth century <br><br>(C) similar to the protest novels that preceded it <br><br>(D) important in the late 1950’s but dated today <br><br>(E) an important influence on novels written in the 1970’s</p></li><br></ol>



<h1 id="4-laura-gilpin">4 Laura Gilpin</h1>



<h2 id="passage-questions-2">Passage &amp; Questions</h2>

<p>  Before Laura Gilpin (1891-1979), few women in the history of photography had so devoted themselves to chronicling the landscape. Other women had photographed the land, but none can be regarded as a landscape photographer with a sustained body of work documenting the physical terrain. Anne Brigman often photographed woodlands and coastal areas, but they were generally settings for her artfully placed subjects. Dorothea Lange’s landscapes were always conceived of as counterparts to her portraits of rural women. <br><br>  At the same time that Gilpin’s interest in landscape work distinguished her from most other women photographers, her approach to landscape photography set her apart from men photographers who, like Gilpin, documented the western United States. Western American landscape photography grew out of a male tradition, pioneered by photographers attached to government and commercial survey teams that went west in the 1860’s and 1870’s. These explorer-photographers documented the West that their employers wanted to see: an exotic and majestic land shaped by awesome natural forces, unpopulated and ready for American settlement. The next generation of male photographers, represented by Ansel Adams and Eliot Porter, often worked with conservationist groups rather than government agencies or commercial companies, but they nonetheless preserved the “heroic” style and maintained the role of respectful outsider peering in with reverence at a fragile natural world. <br><br>  For Gilpin, by contrast, the landscape was neither an empty vista awaiting human settlement nor a jewel-like scene resisting human intrusion, but a peopled landscape with a rich history and tradition of its own, an environment that shaped and molded the lives of its inhabitants. Her photographs of the Rio Grande, for example, consistently depict the river in terms of its significance to human culture: as a source of irrigation water, a source of food for livestock, and a provider of town sites. Also instructive is Gilpin’s general avoidance of extreme close-ups of her natural subjects: for her, emblematic details could never suggest the intricacies of the interrelationship between people and nature that made the landscape a compelling subject. While it is dangerous to draw conclusions about a “feminine” way of seeing from the work of one woman, it can nonetheless be argued that Gilpin’s unique approach to landscape photography was analogous to the work of many women writers who, far more than their male counterparts, described the landscape in terms of its potential to sustain human life. <br><br>Gilpin never spoke of herself as a photographer with a feminine perspective: she eschewed any discussion of gender as it related to her work and maintained little interest in interpretations that relied on the concept of a “woman’s eye.” Thus it is ironic that her photographic evocation of a historical landscape should so clearly present a distinctively feminine approach to landscape photography.</p>

<ol start="21"><li rel="21"><p>Which of the following best expresses the main idea of the passage? <br><br>(A) Gilpin’s landscape photographs more accurately documented the Southwest than did the photographs of explorers and conservationists. <br><br>(B) Gilpin’s style of landscape photography substantially influenced the heroic style practiced by her male counterparts. <br><br>(C) The labeling of Gilpin’s style of landscape photography as feminine ignores important ties between it and the heroic style. <br><br>(D) Gilpin’s work exemplifies an arguably feminine style of landscape photography that contrasts with the style used by her male predecessors. <br><br>(E) Gilpin’s style was strongly influenced by the work of women writers who described the landscape in terms of its relationship to people.</p></li><br><li rel="22"><p>It can be inferred from the passage that the teams mentioned in line 19 were most interested in which of the following aspects of the land in the western United States? <br><br>(A) Its fragility in the face of increased human intrusion <br><br>(B) Its role in shaping the lives of indigenous peoples <br><br>(C) Its potential for sustaining future settlements <br><br>(D) Its importance as an environment for rare plants and animals <br><br>(E) Its unusual vulnerability to extreme natural forces</p></li><br><li rel="23"><p>The author of the passage claims that which of the following is the primary reason why Gilpin generally avoided extreme close-ups of natural subjects? <br><br>(A) Gilpin believed that pictures of natural details could not depict the interrelationship between the land and humans. <br><br>(B) Gilpin considered close-up photography to be too closely associated with her predecessors. <br><br>(C) Gilpin believed that all of her photographs should include people in them. <br><br>(D) Gilpin associated close-up techniques with photography used for commercial purposes. <br><br>(E) Gilpin feared that pictures of small details would suggest an indifference to the fragility of the land as a whole.</p></li><br><li rel="24"><p>The passage suggests that a photographer who practiced the heroic style would be most likely to emphasize which of the following in a photographic series focusing on the Rio Grande? <br><br>(A) Indigenous people and their ancient customs relating to the river <br><br>(B) The exploits of navigators and explorers <br><br>(C) Unpopulated, pristine parts of the river and its surroundings <br><br>(D) Existing commercial ventures that relied heavily on the river <br><br>(E) The dams and other monumental engineering structures built on the river</p></li><br><li rel="25"><p>It can be inferred from the passage that the first two generations of landscape photographers in the western United States had which of the following in common? <br><br>(A) They photographed the land as an entity that had little interaction with human culture. <br><br>(B) They advanced the philosophy that photographers should resist alliances with political or commercial groups. <br><br>(C) They were convinced that the pristine condition of the land needed to be preserved by government action. <br><br>(D) They photographed the land as a place ready for increased settlement. <br><br>(E) They photographed only those locations where humans had settled.</p></li><br><li rel="26"><p>Based on the description of her works in the passage, which of the following would most likely be a subject for a photograph taken by Gilpin? <br><br>(A) A vista of a canyon still untouched by human culture <br><br>(B) A portrait of a visitor to the West against a desert backdrop <br><br>(C) A view of historic Native American dwellings carved into the side of a natural cliff <br><br>(D) A picture of artifacts from the West being transported to the eastern United States for retail sale <br><br>(E) An abstract pattern created by the shadows of clouds on the desert</p></li><br><li rel="27"><p>The author of the passage mentions women writers in the third paragraph most likely in order to <br><br>(A) counter a widely held criticism of her argument <br><br>(B) bolster her argument that Gilpin’s style can be characterized as a feminine style <br><br>(C) suggest that Gilpin took some of her ideas for photographs from landscape descriptions by women writers <br><br>(D) clarify the interrelationship between human culture and the land that Gilpin was attempting to capture <br><br>(E) offer an analogy between photographic close-ups and literary descriptions of small details</p></li><br></ol>

<p><strong>Answers</strong>: D C A C A C B</p>

<h2>Words</h2>

<ul><br>    <li>chronicle v. 记录；把…载入编年史</li><br>    <li>sustained adj. 持久的；经久不衰的</li><br>    <li>conceive v. 想到；设想；怀孕</li><br>    <li>explorer-photographer: 在寻找新大陆，新世界过程中照相的人</li><br>    <li>reverence n. 敬畏；尊敬；尊严 honor and respect</li><br>    <li>pristine adj. 原始的：not changed by people: left in its nature state</li><br>    <li>vista n. （农村、城市等的）景色</li><br>    <li>instructive adj. 有教育意义的</li><br>    <li>close-up n. 特写镜头</li><br>    <li>emblematic adj. 作为象征的；典型的</li><br>    <li>feminine adj. 女性的</li><br>    <li>eschew v. 避开；戒绝 avoid especially you do not think it is right, proper, etc.</li><br>    <li>evocation n. 引起；唤起 （evoke的名词形式）</li><br></ul>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/08/2018-08-08-DeepLearning-C2W2-ProgrammingAssignment/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jin Wang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/08/2018-08-08-DeepLearning-C2W2-ProgrammingAssignment/" itemprop="url">Deep Learning Course2 Week2 Programming Assignment</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-08T00:00:00+08:00">
                2018-08-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/08/2018-08-08-DeepLearning-C2W2-ProgrammingAssignment/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/08/2018-08-08-DeepLearning-C2W2-ProgrammingAssignment/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Optimization-Methods-Notes"><a href="#Optimization-Methods-Notes" class="headerlink" title="Optimization Methods - Notes"></a>Optimization Methods - Notes</h1><p>Until now, you’ve always used Gradient Descent to update the parameters and minimize the cost. In this notebook, you will learn more advanced optimization methods that can speed up learning and perhaps even get you to a better final value for the cost function. Having a good optimization algorithm can be the difference between waiting days vs. just a few hours to get a good result. </p>
<p>Gradient descent goes “downhill” on a cost function $J$. Think of it as trying to do this:<br>img</p>
<caption><center> <u> <strong>Figure 1</strong> </u>: <strong>Minimizing the cost is like finding the lowest point in a hilly landscape</strong><br> At each step of the training, you update your parameters following a certain direction to try to get to the lowest possible point. </center></caption>

<p><strong>Notations</strong>: As usual, $\frac{\partial J}{\partial a } = $ <code>da</code> for any variable <code>a</code>.</p>
<p>To get started, run the following code to import the libraries you will need.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> scipy.io</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> sklearn</span><br><span class="line"><span class="keyword">import</span> sklearn.datasets</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> opt_utils <span class="keyword">import</span> load_params_and_grads, initialize_parameters, forward_propagation, backward_propagation</span><br><span class="line"><span class="keyword">from</span> opt_utils <span class="keyword">import</span> compute_cost, predict, predict_dec, plot_decision_boundary, load_dataset</span><br><span class="line"><span class="keyword">from</span> testCases <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">%matplotlib inline</span><br><span class="line">plt.rcParams[<span class="string">'figure.figsize'</span>] = (<span class="number">7.0</span>, <span class="number">4.0</span>) <span class="comment"># set default size of plots</span></span><br><span class="line">plt.rcParams[<span class="string">'image.interpolation'</span>] = <span class="string">'nearest'</span></span><br><span class="line">plt.rcParams[<span class="string">'image.cmap'</span>] = <span class="string">'gray'</span></span><br></pre></td></tr></table></figure></p>
<h2 id="1-Gradient-Descent"><a href="#1-Gradient-Descent" class="headerlink" title="1 - Gradient Descent"></a>1 - Gradient Descent</h2><p>A simple optimization method in machine learning is gradient descent (GD). When you take gradient steps with respect to all $m$ examples on each step, it is also called Batch Gradient Descent. </p>
<p><strong>Warm-up exercise</strong>: Implement the gradient descent update rule. The  gradient descent rule is, for $l = 1, …, L$:<br>$$ W^{[l]} = W^{[l]} - \alpha \text{ } dW^{[l]} \tag{1}$$<br>$$ b^{[l]} = b^{[l]} - \alpha \text{ } db^{[l]} \tag{2}$$</p>
<p>where L is the number of layers and $\alpha$ is the learning rate. All parameters should be stored in the <code>parameters</code> dictionary. Note that the iterator <code>l</code> starts at 0 in the <code>for</code> loop while the first parameters are $W^{[1]}$ and $b^{[1]}$. You need to shift <code>l</code> to <code>l+1</code> when coding.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GRADED FUNCTION: update_parameters_with_gd</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_parameters_with_gd</span><span class="params">(parameters, grads, learning_rate)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Update parameters using one step of gradient descent</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your parameters to be updated:</span></span><br><span class="line"><span class="string">                    parameters['W' + str(l)] = Wl</span></span><br><span class="line"><span class="string">                    parameters['b' + str(l)] = bl</span></span><br><span class="line"><span class="string">    grads -- python dictionary containing your gradients to update each parameters:</span></span><br><span class="line"><span class="string">                    grads['dW' + str(l)] = dWl</span></span><br><span class="line"><span class="string">                    grads['db' + str(l)] = dbl</span></span><br><span class="line"><span class="string">    learning_rate -- the learning rate, scalar.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your updated parameters </span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    L = len(parameters) // <span class="number">2</span> <span class="comment"># number of layers in the neural networks</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Update rule for each parameter</span></span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(L):</span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        parameters[<span class="string">"W"</span> + str(l+<span class="number">1</span>)] = parameters[<span class="string">"W"</span> + str(l+<span class="number">1</span>)] - learning_rate * grads[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)]</span><br><span class="line">        parameters[<span class="string">"b"</span> + str(l+<span class="number">1</span>)] = parameters[<span class="string">"b"</span> + str(l+<span class="number">1</span>)] - learning_rate * grads[<span class="string">"db"</span> + str(l+<span class="number">1</span>)]</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> parameters</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">parameters, grads, learning_rate = update_parameters_with_gd_test_case()</span><br><span class="line"></span><br><span class="line">parameters = update_parameters_with_gd(parameters, grads, learning_rate)</span><br><span class="line">print(<span class="string">"W1 = "</span> + str(parameters[<span class="string">"W1"</span>]))</span><br><span class="line">print(<span class="string">"b1 = "</span> + str(parameters[<span class="string">"b1"</span>]))</span><br><span class="line">print(<span class="string">"W2 = "</span> + str(parameters[<span class="string">"W2"</span>]))</span><br><span class="line">print(<span class="string">"b2 = "</span> + str(parameters[<span class="string">"b2"</span>]))</span><br></pre></td></tr></table></figure>
<p><strong>Expected Output</strong>:</p>
<table><br>    <tr><br>    <td> <strong>W1</strong> </td><br>           <td> [[ 1.63535156 -0.62320365 -0.53718766]<br> [-1.07799357  0.85639907 -2.29470142]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>b1</strong> </td><br>           <td> [[ 1.74604067]<br> [-0.75184921]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>W2</strong> </td><br>           <td> [[ 0.32171798 -0.25467393  1.46902454]<br> [-2.05617317 -0.31554548 -0.3756023 ]<br> [ 1.1404819  -1.09976462 -0.1612551 ]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>b2</strong> </td><br>           <td> [[-0.88020257]<br> [ 0.02561572]<br> [ 0.57539477]] </td><br>    </tr><br></table>

<p>A variant of this is Stochastic Gradient Descent (SGD), which is equivalent to mini-batch gradient descent where each mini-batch has just 1 example. The update rule that you have just implemented does not change. What changes is that you would be computing gradients on just one training example at a time, rather than on the whole training set. The code examples below illustrate the difference between stochastic gradient descent and (batch) gradient descent. </p>
<ul>
<li><strong>(Batch) Gradient Descent</strong>:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">X = data_input</span><br><span class="line">Y = labels</span><br><span class="line">parameters = initialize_parameters(layers_dims)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, num_iterations):</span><br><span class="line">    <span class="comment"># Forward propagation</span></span><br><span class="line">    a, caches = forward_propagation(X, parameters)</span><br><span class="line">    <span class="comment"># Compute cost.</span></span><br><span class="line">    cost = compute_cost(a, Y)</span><br><span class="line">    <span class="comment"># Backward propagation.</span></span><br><span class="line">    grads = backward_propagation(a, caches, parameters)</span><br><span class="line">    <span class="comment"># Update parameters.</span></span><br><span class="line">    parameters = update_parameters(parameters, grads)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Stochastic Gradient Descent</strong>:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">X = data_input</span><br><span class="line">Y = labels</span><br><span class="line">parameters = initialize_parameters(layers_dims)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, num_iterations):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, m):</span><br><span class="line">        <span class="comment"># Forward propagation</span></span><br><span class="line">        a, caches = forward_propagation(X[:,j], parameters)</span><br><span class="line">        <span class="comment"># Compute cost</span></span><br><span class="line">        cost = compute_cost(a, Y[:,j])</span><br><span class="line">        <span class="comment"># Backward propagation</span></span><br><span class="line">        grads = backward_propagation(a, caches, parameters)</span><br><span class="line">        <span class="comment"># Update parameters.</span></span><br><span class="line">        parameters = update_parameters(parameters, grads)</span><br></pre></td></tr></table></figure>
<p>In Stochastic Gradient Descent, you use only 1 training example before updating the gradients. When the training set is large, SGD can be faster. But the parameters will “oscillate” toward the minimum rather than converge smoothly. Here is an illustration of this: </p>
<p><strong>Note</strong> also that implementing SGD requires 3 for-loops in total:</p>
<ol>
<li>Over the number of iterations</li>
<li>Over the $m$ training examples</li>
<li>Over the layers (to update all parameters, from $(W^{[1]},b^{[1]})$ to $(W^{[L]},b^{[L]})$)</li>
</ol>
<p>In practice, you’ll often get faster results if you do not use neither the whole training set, nor only one training example, to perform each update. Mini-batch gradient descent uses an intermediate number of examples for each step. With mini-batch gradient descent, you loop over the mini-batches instead of looping over individual training examples.</p>
<p>img</p>
<p><strong>What you should remember</strong>:</p>
<ul>
<li>The difference between gradient descent, mini-batch gradient descent and stochastic gradient descent is the number of examples you use to perform one update step.</li>
<li>You have to tune a learning rate hyperparameter $\alpha$.</li>
<li>With a well-turned mini-batch size, usually it outperforms either gradient descent or stochastic gradient descent (particularly when the training set is large).</li>
</ul>
<h2 id="2-Mini-Batch-Gradient-descent"><a href="#2-Mini-Batch-Gradient-descent" class="headerlink" title="2 - Mini-Batch Gradient descent"></a>2 - Mini-Batch Gradient descent</h2><p>Let’s learn how to build mini-batches from the training set (X, Y).</p>
<p>There are two steps:</p>
<ul>
<li><strong>Shuffle</strong>: Create a shuffled version of the training set (X, Y) as shown below. Each column of X and Y represents a training example. Note that the random shuffling is done synchronously between X and Y. Such that after the shuffling the $i^{th}$ column of X is the example corresponding to the $i^{th}$ label in Y. The shuffling step ensures that examples will be split randomly into different mini-batches. </li>
</ul>
<p>img</p>
<ul>
<li><strong>Partition</strong>: Partition the shuffled (X, Y) into mini-batches of size <code>mini_batch_size</code> (here 64). Note that the number of training examples is not always divisible by <code>mini_batch_size</code>. The last mini batch might be smaller, but you don’t need to worry about this. When the final mini-batch is smaller than the full <code>mini_batch_size</code>, it will look like this: </li>
</ul>
<p>img</p>
<p><strong>Exercise</strong>: Implement <code>random_mini_batches</code>. We coded the shuffling part for you. To help you with the partitioning step, we give you the following code that selects the indexes for the $1^{st}$ and $2^{nd}$ mini-batches:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">first_mini_batch_X = shuffled_X[:, <span class="number">0</span> : mini_batch_size]</span><br><span class="line">second_mini_batch_X = shuffled_X[:, mini_batch_size : <span class="number">2</span> * mini_batch_size]</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>Note that the last mini-batch might end up smaller than <code>mini_batch_size=64</code>. Let $\lfloor s \rfloor$ represents $s$ rounded down to the nearest integer (this is <code>math.floor(s)</code> in Python). If the total number of examples is not a multiple of <code>mini_batch_size=64</code> then there will be $\lfloor \frac{m}{mini_batch_size}\rfloor$ mini-batches with a full 64 examples, and the number of examples in the final mini-batch will be ($m-mini__batch__size \times \lfloor \frac{m}{mini_batch_size}\rfloor$). </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GRADED FUNCTION: random_mini_batches</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_mini_batches</span><span class="params">(X, Y, mini_batch_size = <span class="number">64</span>, seed = <span class="number">0</span>)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Creates a list of random minibatches from (X, Y)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">    X -- input data, of shape (input size, number of examples)</span></span><br><span class="line"><span class="string">    Y -- true "label" vector (1 for blue dot / 0 for red dot), of shape (1, number of examples)</span></span><br><span class="line"><span class="string">    mini_batch_size -- size of the mini-batches, integer</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">    mini_batches -- list of synchronous (mini_batch_X, mini_batch_Y)</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    </span><br><span class="line">    np.random.seed(seed)            <span class="comment"># To make your "random" minibatches the same as ours</span></span><br><span class="line">    m = X.shape[<span class="number">1</span>]                  <span class="comment"># number of training examples</span></span><br><span class="line">    mini_batches = []</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># Step 1: Shuffle (X, Y)</span></span><br><span class="line">    permutation = list(np.random.permutation(m))</span><br><span class="line">    shuffled_X = X[:, permutation]</span><br><span class="line">    shuffled_Y = Y[:, permutation].reshape((<span class="number">1</span>,m))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Step 2: Partition (shuffled_X, shuffled_Y). Minus the end case.</span></span><br><span class="line">    num_complete_minibatches = math.floor(m/mini_batch_size) <span class="comment"># number of mini batches of size mini_batch_size in your partitionning</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">0</span>, num_complete_minibatches):</span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        mini_batch_X = shuffled_X[:, k * mini_batch_size : (k+<span class="number">1</span>) * mini_batch_size]</span><br><span class="line">        mini_batch_Y = shuffled_Y[k * mini_batch_size : (k+<span class="number">1</span>) * mini_batch_size]</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line">        mini_batch = (mini_batch_X, mini_batch_Y)</span><br><span class="line">        mini_batches.append(mini_batch)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Handling the end case (last mini-batch &lt; mini_batch_size)</span></span><br><span class="line">    <span class="keyword">if</span> m % mini_batch_size != <span class="number">0</span>:</span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        mini_batch_X = shuffled_X[:, (k+<span class="number">1</span>) * mini_batch_size : m]</span><br><span class="line">        mini_batch_Y = shuffled_Y[(k+<span class="number">1</span>) * mini_batch_size : m]</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line">        mini_batch = (mini_batch_X, mini_batch_Y)</span><br><span class="line">        mini_batches.append(mini_batch)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> mini_batches</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">X_assess, Y_assess, mini_batch_size = random_mini_batches_test_case()</span><br><span class="line">mini_batches = random_mini_batches(X_assess, Y_assess, mini_batch_size)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"shape of the 1st mini_batch_X: "</span> + str(mini_batches[<span class="number">0</span>][<span class="number">0</span>].shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"shape of the 2nd mini_batch_X: "</span> + str(mini_batches[<span class="number">1</span>][<span class="number">0</span>].shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"shape of the 3rd mini_batch_X: "</span> + str(mini_batches[<span class="number">2</span>][<span class="number">0</span>].shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"shape of the 1st mini_batch_Y: "</span> + str(mini_batches[<span class="number">0</span>][<span class="number">1</span>].shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"shape of the 2nd mini_batch_Y: "</span> + str(mini_batches[<span class="number">1</span>][<span class="number">1</span>].shape)) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">"shape of the 3rd mini_batch_Y: "</span> + str(mini_batches[<span class="number">2</span>][<span class="number">1</span>].shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"mini batch sanity check: "</span> + str(mini_batches[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>:<span class="number">3</span>]))</span><br></pre></td></tr></table></figure>
<p><strong>Expected Output</strong>:</p>
<table style="width:50%"><br>    <tr><br>    <td> <strong>shape of the 1st mini_batch_X</strong> </td><br>           <td> (12288, 64) </td><br>    </tr><br><br>    <tr><br>    <td> <strong>shape of the 2nd mini_batch_X</strong> </td><br>           <td> (12288, 64) </td><br>    </tr><br><br>    <tr><br>    <td> <strong>shape of the 3rd mini_batch_X</strong> </td><br>           <td> (12288, 20) </td><br>    </tr><br>    <tr><br>    <td> <strong>shape of the 1st mini_batch_Y</strong> </td><br>           <td> (1, 64) </td><br>    </tr><br>    <tr><br>    <td> <strong>shape of the 2nd mini_batch_Y</strong> </td><br>           <td> (1, 64) </td><br>    </tr><br>    <tr><br>    <td> <strong>shape of the 3rd mini_batch_Y</strong> </td><br>           <td> (1, 20) </td><br>    </tr><br>    <tr><br>    <td> <strong>mini batch sanity check</strong> </td><br>           <td> [ 0.90085595 -0.7612069   0.2344157 ] </td><br>    </tr><br><br></table>


<p><strong>What you should remember</strong>:</p>
<ul>
<li>Shuffling and Partitioning are the two steps required to build mini-batches</li>
<li>Powers of two are often chosen to be the mini-batch size, e.g., 16, 32, 64, 128.</li>
</ul>
<h2 id="3-Momentum"><a href="#3-Momentum" class="headerlink" title="3 - Momentum"></a>3 - Momentum</h2><p>Because mini-batch gradient descent makes a parameter update after seeing just a subset of examples, the direction of the update has some variance, and so the path taken by mini-batch gradient descent will “oscillate” toward convergence. Using momentum can reduce these oscillations. </p>
<p>Momentum takes into account the past gradients to smooth out the update. We will store the ‘direction’ of the previous gradients in the variable $v$. Formally, this will be the exponentially weighted average of the gradient on previous steps. You can also think of $v$ as the “velocity” of a ball rolling downhill, building up speed (and momentum) according to the direction of the gradient/slope of the hill. </p>
<p>img</p>
<p><strong>Exercise</strong>: Initialize the velocity. The velocity, $v$, is a python dictionary that needs to be initialized with arrays of zeros. Its keys are the same as those in the <code>grads</code> dictionary, that is:<br>for $l =1,…,L$:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = ... <span class="comment">#(numpy array of zeros with the same shape as parameters["W" + str(l+1)])</span></span><br><span class="line">v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = ... <span class="comment">#(numpy array of zeros with the same shape as parameters["b" + str(l+1)])</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Note</strong> that the iterator l starts at 0 in the for loop while the first parameters are v[“dW1”] and v[“db1”] (that’s a “one” on the superscript). This is why we are shifting l to l+1 in the <code>for</code> loop.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GRADED FUNCTION: initialize_velocity</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">initialize_velocity</span><span class="params">(parameters)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Initializes the velocity as a python dictionary with:</span></span><br><span class="line"><span class="string">                - keys: "dW1", "db1", ..., "dWL", "dbL" </span></span><br><span class="line"><span class="string">                - values: numpy arrays of zeros of the same shape as the corresponding gradients/parameters.</span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your parameters.</span></span><br><span class="line"><span class="string">                    parameters['W' + str(l)] = Wl</span></span><br><span class="line"><span class="string">                    parameters['b' + str(l)] = bl</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">    v -- python dictionary containing the current velocity.</span></span><br><span class="line"><span class="string">                    v['dW' + str(l)] = velocity of dWl</span></span><br><span class="line"><span class="string">                    v['db' + str(l)] = velocity of dbl</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    </span><br><span class="line">    L = len(parameters) // <span class="number">2</span> <span class="comment"># number of layers in the neural networks</span></span><br><span class="line">    v = &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Initialize velocity</span></span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(L):</span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = np.zeros(parameters[<span class="string">"W"</span> + str(l+<span class="number">1</span>)].shape)</span><br><span class="line">        v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = np.zeros(parameters[<span class="string">"b"</span> + str(l+<span class="number">1</span>)].shape)</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> v</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">parameters = initialize_velocity_test_case()</span><br><span class="line"></span><br><span class="line">v = initialize_velocity(parameters)</span><br><span class="line">print(<span class="string">"v[\"dW1\"] = "</span> + str(v[<span class="string">"dW1"</span>]))</span><br><span class="line">print(<span class="string">"v[\"db1\"] = "</span> + str(v[<span class="string">"db1"</span>]))</span><br><span class="line">print(<span class="string">"v[\"dW2\"] = "</span> + str(v[<span class="string">"dW2"</span>]))</span><br><span class="line">print(<span class="string">"v[\"db2\"] = "</span> + str(v[<span class="string">"db2"</span>]))</span><br></pre></td></tr></table></figure>
<p><strong>Expected Output</strong>:</p>
<table style="width:40%"><br>    <tr><br>    <td> <strong>v[“dW1”]</strong> </td><br>           <td> [[ 0.  0.  0.]<br> [ 0.  0.  0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“db1”]</strong> </td><br>           <td> [[ 0.]<br> [ 0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“dW2”]</strong> </td><br>           <td> [[ 0.  0.  0.]<br> [ 0.  0.  0.]<br> [ 0.  0.  0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“db2”]</strong> </td><br>           <td> [[ 0.]<br> [ 0.]<br> [ 0.]] </td><br>    </tr><br></table>

<p><strong>Exercise</strong>:  Now, implement the parameters update with momentum. The momentum update rule is, for $l = 1, …, L$: </p>
<p>$$ \begin{cases}<br>v_{dW^{[l]}} = \beta v_{dW^{[l]}} + (1 - \beta) dW^{[l]} \<br>W^{[l]} = W^{[l]} - \alpha v_{dW^{[l]}}<br>\end{cases}\tag{3}$$</p>
<p>$$\begin{cases}<br>v_{db^{[l]}} = \beta v_{db^{[l]}} + (1 - \beta) db^{[l]} \<br>b^{[l]} = b^{[l]} - \alpha v_{db^{[l]}}<br>\end{cases}\tag{4}$$</p>
<p>where L is the number of layers, $\beta$ is the momentum and $\alpha$ is the learning rate. All parameters should be stored in the <code>parameters</code> dictionary.  Note that the iterator <code>l</code> starts at 0 in the <code>for</code> loop while the first parameters are $W^{[1]}$ and $b^{[1]}$ (that’s a “one” on the superscript). So you will need to shift <code>l</code> to <code>l+1</code> when coding.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GRADED FUNCTION: update_parameters_with_momentum</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_parameters_with_momentum</span><span class="params">(parameters, grads, v, beta, learning_rate)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Update parameters using Momentum</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your parameters:</span></span><br><span class="line"><span class="string">                    parameters['W' + str(l)] = Wl</span></span><br><span class="line"><span class="string">                    parameters['b' + str(l)] = bl</span></span><br><span class="line"><span class="string">    grads -- python dictionary containing your gradients for each parameters:</span></span><br><span class="line"><span class="string">                    grads['dW' + str(l)] = dWl</span></span><br><span class="line"><span class="string">                    grads['db' + str(l)] = dbl</span></span><br><span class="line"><span class="string">    v -- python dictionary containing the current velocity:</span></span><br><span class="line"><span class="string">                    v['dW' + str(l)] = ...</span></span><br><span class="line"><span class="string">                    v['db' + str(l)] = ...</span></span><br><span class="line"><span class="string">    beta -- the momentum hyperparameter, scalar</span></span><br><span class="line"><span class="string">    learning_rate -- the learning rate, scalar</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your updated parameters </span></span><br><span class="line"><span class="string">    v -- python dictionary containing your updated velocities</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    L = len(parameters) // <span class="number">2</span> <span class="comment"># number of layers in the neural networks</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Momentum update for each parameter</span></span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(L):</span><br><span class="line">        </span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 4 lines)</span></span><br><span class="line">        <span class="comment"># compute velocities</span></span><br><span class="line">        v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = beta * v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] + (<span class="number">1</span> - beta) * grads[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)]</span><br><span class="line">        v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = beta * v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] + (<span class="number">1</span> - beta) * grads[<span class="string">"db"</span> + str(l+<span class="number">1</span>)]</span><br><span class="line">        <span class="comment"># update parameters</span></span><br><span class="line">        parameters[<span class="string">"W"</span> + str(l+<span class="number">1</span>)] = parameters[<span class="string">"W"</span> + str(l+<span class="number">1</span>)] - learning_rate * v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)]</span><br><span class="line">        parameters[<span class="string">"b"</span> + str(l+<span class="number">1</span>)] = parameters[<span class="string">"b"</span> + str(l+<span class="number">1</span>)] - learning_rate * v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)]</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> parameters, v</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">parameters, grads, v = update_parameters_with_momentum_test_case()</span><br><span class="line"></span><br><span class="line">parameters, v = update_parameters_with_momentum(parameters, grads, v, beta = <span class="number">0.9</span>, learning_rate = <span class="number">0.01</span>)</span><br><span class="line">print(<span class="string">"W1 = "</span> + str(parameters[<span class="string">"W1"</span>]))</span><br><span class="line">print(<span class="string">"b1 = "</span> + str(parameters[<span class="string">"b1"</span>]))</span><br><span class="line">print(<span class="string">"W2 = "</span> + str(parameters[<span class="string">"W2"</span>]))</span><br><span class="line">print(<span class="string">"b2 = "</span> + str(parameters[<span class="string">"b2"</span>]))</span><br><span class="line">print(<span class="string">"v[\"dW1\"] = "</span> + str(v[<span class="string">"dW1"</span>]))</span><br><span class="line">print(<span class="string">"v[\"db1\"] = "</span> + str(v[<span class="string">"db1"</span>]))</span><br><span class="line">print(<span class="string">"v[\"dW2\"] = "</span> + str(v[<span class="string">"dW2"</span>]))</span><br><span class="line">print(<span class="string">"v[\"db2\"] = "</span> + str(v[<span class="string">"db2"</span>]))</span><br></pre></td></tr></table></figure>
<p><strong>Expected Output</strong>:</p>
<table style="width:90%"><br>    <tr><br>    <td> <strong>W1</strong> </td><br>           <td> [[ 1.62544598 -0.61290114 -0.52907334]<br> [-1.07347112  0.86450677 -2.30085497]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>b1</strong> </td><br>           <td> [[ 1.74493465]<br> [-0.76027113]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>W2</strong> </td><br>           <td> [[ 0.31930698 -0.24990073  1.4627996 ]<br> [-2.05974396 -0.32173003 -0.38320915]<br> [ 1.13444069 -1.0998786  -0.1713109 ]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>b2</strong> </td><br>           <td> [[-0.87809283]<br> [ 0.04055394]<br> [ 0.58207317]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“dW1”]</strong> </td><br>           <td> [[-0.11006192  0.11447237  0.09015907]<br> [ 0.05024943  0.09008559 -0.06837279]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“db1”]</strong> </td><br>           <td> [[-0.01228902]<br> [-0.09357694]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“dW2”]</strong> </td><br>           <td> [[-0.02678881  0.05303555 -0.06916608]<br> [-0.03967535 -0.06871727 -0.08452056]<br> [-0.06712461 -0.00126646 -0.11173103]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“db2”]</strong> </td><br>           <td> [[ 0.02344157]<br> [ 0.16598022]<br> [ 0.07420442]]</td><br>    </tr><br></table>

<p><strong>Note</strong> that:</p>
<ul>
<li>The velocity is initialized with zeros. So the algorithm will take a few iterations to “build up” velocity and start to take bigger steps.</li>
<li>If $\beta = 0$, then this just becomes standard gradient descent without momentum. </li>
</ul>
<p><strong>How do you choose $\beta$?</strong></p>
<ul>
<li>The larger the momentum $\beta$ is, the smoother the update because the more we take the past gradients into account. But if $\beta$ is too big, it could also smooth out the updates too much. </li>
<li>Common values for $\beta$ range from 0.8 to 0.999. If you don’t feel inclined to tune this, $\beta = 0.9$ is often a reasonable default. </li>
<li>Tuning the optimal $\beta$ for your model might need trying several values to see what works best in term of reducing the value of the cost function $J$. </li>
</ul>
<p><strong>What you should remember</strong>:</p>
<ul>
<li>Momentum takes past gradients into account to smooth out the steps of gradient descent. It can be applied with batch gradient descent, mini-batch gradient descent or stochastic gradient descent.</li>
<li>You have to tune a momentum hyperparameter $\beta$ and a learning rate $\alpha$.</li>
</ul>
<h2 id="4-Adam"><a href="#4-Adam" class="headerlink" title="4 - Adam"></a>4 - Adam</h2><p>Adam is one of the most effective optimization algorithms for training neural networks. It combines ideas from RMSProp (described in lecture) and Momentum. </p>
<p><strong>How does Adam work?</strong></p>
<ol>
<li>It calculates an exponentially weighted average of past gradients, and stores it in variables $v$ (before bias correction) and $v^{corrected}$ (with bias correction). </li>
<li>It calculates an exponentially weighted average of the squares of the past gradients, and  stores it in variables $s$ (before bias correction) and $s^{corrected}$ (with bias correction). </li>
<li>It updates parameters in a direction based on combining information from “1” and “2”.</li>
</ol>
<p>The update rule is, for $l = 1, …, L$: </p>
<p>$$\begin{cases}<br>v_{dW^{[l]}} = \beta_1 v_{dW^{[l]}} + (1 - \beta_1) \frac{\partial \mathcal{J} }{ \partial W^{[l]} } \<br>v^{corrected}<em>{dW^{[l]}} = \frac{v</em>{dW^{[l]}}}{1 - (\beta_1)^t} \<br>s_{dW^{[l]}} = \beta_2 s_{dW^{[l]}} + (1 - \beta_2) (\frac{\partial \mathcal{J} }{\partial W^{[l]} })^2 \<br>s^{corrected}<em>{dW^{[l]}} = \frac{s</em>{dW^{[l]}}}{1 - (\beta_1)^t} \<br>W^{[l]} = W^{[l]} - \alpha \frac{v^{corrected}<em>{dW^{[l]}}}{\sqrt{s^{corrected}</em>{dW^{[l]}}} + \varepsilon}<br>\end{cases}$$<br>where:</p>
<ul>
<li>t counts the number of steps taken of Adam </li>
<li>L is the number of layers</li>
<li>$\beta_1$ and $\beta_2$ are hyperparameters that control the two exponentially weighted averages. </li>
<li>$\alpha$ is the learning rate</li>
<li>$\varepsilon$ is a very small number to avoid dividing by zero</li>
</ul>
<p>As usual, we will store all parameters in the <code>parameters</code> dictionary  </p>
<p><strong>Exercise</strong>: Initialize the Adam variables $v, s$ which keep track of the past information.</p>
<p><strong>Instruction</strong>: The variables $v, s$ are python dictionaries that need to be initialized with arrays of zeros. Their keys are the same as for <code>grads</code>, that is:<br>for $l = 1, …, L$:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = ... <span class="comment">#(numpy array of zeros with the same shape as parameters["W" + str(l+1)])</span></span><br><span class="line">v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = ... <span class="comment">#(numpy array of zeros with the same shape as parameters["b" + str(l+1)])</span></span><br><span class="line">s[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = ... <span class="comment">#(numpy array of zeros with the same shape as parameters["W" + str(l+1)])</span></span><br><span class="line">s[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = ... <span class="comment">#(numpy array of zeros with the same shape as parameters["b" + str(l+1)])</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GRADED FUNCTION: initialize_adam</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">initialize_adam</span><span class="params">(parameters)</span> :</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Initializes v and s as two python dictionaries with:</span></span><br><span class="line"><span class="string">                - keys: "dW1", "db1", ..., "dWL", "dbL" </span></span><br><span class="line"><span class="string">                - values: numpy arrays of zeros of the same shape as the corresponding gradients/parameters.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your parameters.</span></span><br><span class="line"><span class="string">                    parameters["W" + str(l)] = Wl</span></span><br><span class="line"><span class="string">                    parameters["b" + str(l)] = bl</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Returns: </span></span><br><span class="line"><span class="string">    v -- python dictionary that will contain the exponentially weighted average of the gradient.</span></span><br><span class="line"><span class="string">                    v["dW" + str(l)] = ...</span></span><br><span class="line"><span class="string">                    v["db" + str(l)] = ...</span></span><br><span class="line"><span class="string">    s -- python dictionary that will contain the exponentially weighted average of the squared gradient.</span></span><br><span class="line"><span class="string">                    s["dW" + str(l)] = ...</span></span><br><span class="line"><span class="string">                    s["db" + str(l)] = ...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    </span><br><span class="line">    L = len(parameters) // <span class="number">2</span> <span class="comment"># number of layers in the neural networks</span></span><br><span class="line">    v = &#123;&#125;</span><br><span class="line">    s = &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Initialize v, s. Input: "parameters". Outputs: "v, s".</span></span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(L):</span><br><span class="line">    <span class="comment">### START CODE HERE ### (approx. 4 lines)</span></span><br><span class="line">        v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = np.zeros((parameters[<span class="string">"W"</span> +str(l+<span class="number">1</span>)].shape))</span><br><span class="line">        v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = np.zeros((parameters[<span class="string">"b"</span> +str(l+<span class="number">1</span>)].shape))</span><br><span class="line">        s[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = np.zeros((parameters[<span class="string">"W"</span> +str(l+<span class="number">1</span>)].shape))</span><br><span class="line">        s[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = np.zeros((parameters[<span class="string">"b"</span> +str(l+<span class="number">1</span>)].shape))</span><br><span class="line">    <span class="comment">### END CODE HERE ###</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> v, s</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">parameters = initialize_adam_test_case()</span><br><span class="line"></span><br><span class="line">v, s = initialize_adam(parameters)</span><br><span class="line">print(<span class="string">"v[\"dW1\"] = "</span> + str(v[<span class="string">"dW1"</span>]))</span><br><span class="line">print(<span class="string">"v[\"db1\"] = "</span> + str(v[<span class="string">"db1"</span>]))</span><br><span class="line">print(<span class="string">"v[\"dW2\"] = "</span> + str(v[<span class="string">"dW2"</span>]))</span><br><span class="line">print(<span class="string">"v[\"db2\"] = "</span> + str(v[<span class="string">"db2"</span>]))</span><br><span class="line">print(<span class="string">"s[\"dW1\"] = "</span> + str(s[<span class="string">"dW1"</span>]))</span><br><span class="line">print(<span class="string">"s[\"db1\"] = "</span> + str(s[<span class="string">"db1"</span>]))</span><br><span class="line">print(<span class="string">"s[\"dW2\"] = "</span> + str(s[<span class="string">"dW2"</span>]))</span><br><span class="line">print(<span class="string">"s[\"db2\"] = "</span> + str(s[<span class="string">"db2"</span>]))</span><br></pre></td></tr></table></figure>
<p><strong>Expected Output</strong>:</p>
<table style="width:40%"><br>    <tr><br>    <td> <strong>v[“dW1”]</strong> </td><br>           <td> [[ 0.  0.  0.]<br> [ 0.  0.  0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“db1”]</strong> </td><br>           <td> [[ 0.]<br> [ 0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“dW2”]</strong> </td><br>           <td> [[ 0.  0.  0.]<br> [ 0.  0.  0.]<br> [ 0.  0.  0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“db2”]</strong> </td><br>           <td> [[ 0.]<br> [ 0.]<br> [ 0.]] </td><br>    </tr><br>    <tr><br>    <td> <strong>s[“dW1”]</strong> </td><br>           <td> [[ 0.  0.  0.]<br> [ 0.  0.  0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>s[“db1”]</strong> </td><br>           <td> [[ 0.]<br> [ 0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>s[“dW2”]</strong> </td><br>           <td> [[ 0.  0.  0.]<br> [ 0.  0.  0.]<br> [ 0.  0.  0.]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>s[“db2”]</strong> </td><br>           <td> [[ 0.]<br> [ 0.]<br> [ 0.]] </td><br>    </tr><br><br></table>

<p><strong>Exercise</strong>:  Now, implement the parameters update with Adam. Recall the general update rule is, for $l = 1, …, L$: </p>
<p>$$\begin{cases}<br>v_{W^{[l]}} = \beta_1 v_{W^{[l]}} + (1 - \beta_1) \frac{\partial J }{ \partial W^{[l]} } \<br>v^{corrected}<em>{W^{[l]}} = \frac{v</em>{W^{[l]}}}{1 - (\beta_1)^t} \<br>s_{W^{[l]}} = \beta_2 s_{W^{[l]}} + (1 - \beta_2) (\frac{\partial J }{\partial W^{[l]} })^2 \<br>s^{corrected}<em>{W^{[l]}} = \frac{s</em>{W^{[l]}}}{1 - (\beta_2)^t} \<br>W^{[l]} = W^{[l]} - \alpha \frac{v^{corrected}<em>{W^{[l]}}}{\sqrt{s^{corrected}</em>{W^{[l]}}}+\varepsilon}<br>\end{cases}$$</p>
<p><strong>Note</strong> that the iterator <code>l</code> starts at 0 in the <code>for</code> loop while the first parameters are $W^{[1]}$ and $b^{[1]}$. You need to shift <code>l</code> to <code>l+1</code> when coding.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GRADED FUNCTION: update_parameters_with_adam</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_parameters_with_adam</span><span class="params">(parameters, grads, v, s, t, learning_rate = <span class="number">0.01</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                                beta1 = <span class="number">0.9</span>, beta2 = <span class="number">0.999</span>,  epsilon = <span class="number">1e-8</span>)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Update parameters using Adam</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your parameters:</span></span><br><span class="line"><span class="string">                    parameters['W' + str(l)] = Wl</span></span><br><span class="line"><span class="string">                    parameters['b' + str(l)] = bl</span></span><br><span class="line"><span class="string">    grads -- python dictionary containing your gradients for each parameters:</span></span><br><span class="line"><span class="string">                    grads['dW' + str(l)] = dWl</span></span><br><span class="line"><span class="string">                    grads['db' + str(l)] = dbl</span></span><br><span class="line"><span class="string">    v -- Adam variable, moving average of the first gradient, python dictionary</span></span><br><span class="line"><span class="string">    s -- Adam variable, moving average of the squared gradient, python dictionary</span></span><br><span class="line"><span class="string">    learning_rate -- the learning rate, scalar.</span></span><br><span class="line"><span class="string">    beta1 -- Exponential decay hyperparameter for the first moment estimates </span></span><br><span class="line"><span class="string">    beta2 -- Exponential decay hyperparameter for the second moment estimates </span></span><br><span class="line"><span class="string">    epsilon -- hyperparameter preventing division by zero in Adam updates</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your updated parameters </span></span><br><span class="line"><span class="string">    v -- Adam variable, moving average of the first gradient, python dictionary</span></span><br><span class="line"><span class="string">    s -- Adam variable, moving average of the squared gradient, python dictionary</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    </span><br><span class="line">    L = len(parameters) // <span class="number">2</span>                 <span class="comment"># number of layers in the neural networks</span></span><br><span class="line">    v_corrected = &#123;&#125;                         <span class="comment"># Initializing first moment estimate, python dictionary</span></span><br><span class="line">    s_corrected = &#123;&#125;                         <span class="comment"># Initializing second moment estimate, python dictionary</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Perform Adam update on all parameters</span></span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(L):</span><br><span class="line">        <span class="comment"># Moving average of the gradients. Inputs: "v, grads, beta1". Output: "v".</span></span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = beta1 * v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] + (<span class="number">1</span> - beta1) * grads[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)]</span><br><span class="line">        v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = beta1 * v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] + (<span class="number">1</span> - beta1) * grads[<span class="string">"db"</span> + str(l+<span class="number">1</span>)]</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Compute bias-corrected first moment estimate. Inputs: "v, beta1, t". Output: "v_corrected".</span></span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        v_corrected[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = v[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] / (<span class="number">1</span> - np.power(beta1, t))</span><br><span class="line">        v_corrected[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = v[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] / (<span class="number">1</span> - np.power(beta1, t))</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Moving average of the squared gradients. Inputs: "s, grads, beta2". Output: "s".</span></span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        s[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = beta2 * s[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] + (<span class="number">1</span> - beta2) * np.power(grads[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)], <span class="number">2</span>)</span><br><span class="line">        s[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = beta2 * s[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] + (<span class="number">1</span> - beta2) * np.power(grads[<span class="string">"db"</span> + str(l+<span class="number">1</span>)], <span class="number">2</span>)</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Compute bias-corrected second raw moment estimate. Inputs: "s, beta2, t". Output: "s_corrected".</span></span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        s_corrected[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] = s[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] / (<span class="number">1</span> - np.power(beta2, t))</span><br><span class="line">        s_corrected[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] = s[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] / (<span class="number">1</span> - np.power(beta2, t))</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Update parameters. Inputs: "parameters, learning_rate, v_corrected, s_corrected, epsilon". Output: "parameters".</span></span><br><span class="line">        <span class="comment">### START CODE HERE ### (approx. 2 lines)</span></span><br><span class="line">        parameters[<span class="string">"W"</span> + str(l+<span class="number">1</span>)] = parameters[<span class="string">"W"</span> + str(l+<span class="number">1</span>)] - learning_rate * v_corrected[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)] / (np.sqrt(s_corrected[<span class="string">"dW"</span> + str(l+<span class="number">1</span>)]) + epsilon)</span><br><span class="line">        parameters[<span class="string">"b"</span> + str(l+<span class="number">1</span>)] = parameters[<span class="string">"b"</span> + str(l+<span class="number">1</span>)] - learning_rate * v_corrected[<span class="string">"db"</span> + str(l+<span class="number">1</span>)] / (np.sqrt(s_corrected[<span class="string">"db"</span> + str(l+<span class="number">1</span>)]) + epsilon)</span><br><span class="line">        <span class="comment">### END CODE HERE ###</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> parameters, v, s</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">parameters, grads, v, s = update_parameters_with_adam_test_case()</span><br><span class="line">parameters, v, s  = update_parameters_with_adam(parameters, grads, v, s, t = <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"W1 = "</span> + str(parameters[<span class="string">"W1"</span>]))</span><br><span class="line">print(<span class="string">"b1 = "</span> + str(parameters[<span class="string">"b1"</span>]))</span><br><span class="line">print(<span class="string">"W2 = "</span> + str(parameters[<span class="string">"W2"</span>]))</span><br><span class="line">print(<span class="string">"b2 = "</span> + str(parameters[<span class="string">"b2"</span>]))</span><br><span class="line">print(<span class="string">"v[\"dW1\"] = "</span> + str(v[<span class="string">"dW1"</span>]))</span><br><span class="line">print(<span class="string">"v[\"db1\"] = "</span> + str(v[<span class="string">"db1"</span>]))</span><br><span class="line">print(<span class="string">"v[\"dW2\"] = "</span> + str(v[<span class="string">"dW2"</span>]))</span><br><span class="line">print(<span class="string">"v[\"db2\"] = "</span> + str(v[<span class="string">"db2"</span>]))</span><br><span class="line">print(<span class="string">"s[\"dW1\"] = "</span> + str(s[<span class="string">"dW1"</span>]))</span><br><span class="line">print(<span class="string">"s[\"db1\"] = "</span> + str(s[<span class="string">"db1"</span>]))</span><br><span class="line">print(<span class="string">"s[\"dW2\"] = "</span> + str(s[<span class="string">"dW2"</span>]))</span><br><span class="line">print(<span class="string">"s[\"db2\"] = "</span> + str(s[<span class="string">"db2"</span>]))</span><br></pre></td></tr></table></figure>
<p><strong>Expected Output</strong>:</p>
<table><br>    <tr><br>    <td> <strong>W1</strong> </td><br>           <td> [[ 1.63178673 -0.61919778 -0.53561312]<br> [-1.08040999  0.85796626 -2.29409733]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>b1</strong> </td><br>           <td> [[ 1.75225313]<br> [-0.75376553]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>W2</strong> </td><br>           <td> [[ 0.32648046 -0.25681174  1.46954931]<br> [-2.05269934 -0.31497584 -0.37661299]<br> [ 1.14121081 -1.09245036 -0.16498684]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>b2</strong> </td><br>           <td> [[-0.88529978]<br> [ 0.03477238]<br> [ 0.57537385]] </td><br>    </tr><br>    <tr><br>    <td> <strong>v[“dW1”]</strong> </td><br>           <td> [[-0.11006192  0.11447237  0.09015907]<br> [ 0.05024943  0.09008559 -0.06837279]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“db1”]</strong> </td><br>           <td> [[-0.01228902]<br> [-0.09357694]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“dW2”]</strong> </td><br>           <td> [[-0.02678881  0.05303555 -0.06916608]<br> [-0.03967535 -0.06871727 -0.08452056]<br> [-0.06712461 -0.00126646 -0.11173103]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>v[“db2”]</strong> </td><br>           <td> [[ 0.02344157]<br> [ 0.16598022]<br> [ 0.07420442]] </td><br>    </tr><br>    <tr><br>    <td> <strong>s[“dW1”]</strong> </td><br>           <td> [[ 0.00121136  0.00131039  0.00081287]<br> [ 0.0002525   0.00081154  0.00046748]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>s[“db1”]</strong> </td><br>           <td> [[  1.51020075e-05]<br> [  8.75664434e-04]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>s[“dW2”]</strong> </td><br>           <td> [[  7.17640232e-05   2.81276921e-04   4.78394595e-04]<br> [  1.57413361e-04   4.72206320e-04   7.14372576e-04]<br> [  4.50571368e-04   1.60392066e-07   1.24838242e-03]] </td><br>    </tr><br><br>    <tr><br>    <td> <strong>s[“db2”]</strong> </td><br>           <td> [[  5.49507194e-05]<br> [  2.75494327e-03]<br> [  5.50629536e-04]] </td><br>    </tr><br></table>

<p>You now have three working optimization algorithms (mini-batch gradient descent, Momentum, Adam). Let’s implement a model with each of these optimizers and observe the difference.</p>
<h2 id="5-Model-with-different-optimization-algorithms"><a href="#5-Model-with-different-optimization-algorithms" class="headerlink" title="5 - Model with different optimization algorithms"></a>5 - Model with different optimization algorithms</h2><p>Lets use the following “moons” dataset to test the different optimization methods. (The dataset is named “moons” because the data from each of the two classes looks a bit like a crescent-shaped moon.) </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train_X, train_Y = load_dataset()</span><br></pre></td></tr></table></figure>
<p>We have already implemented a 3-layer neural network. You will train it with: </p>
<ul>
<li>Mini-batch <strong>Gradient Descent</strong>: it will call your function:<ul>
<li><code>update_parameters_with_gd()</code></li>
</ul>
</li>
<li>Mini-batch <strong>Momentum</strong>: it will call your functions:<ul>
<li><code>initialize_velocity()</code> and <code>update_parameters_with_momentum()</code></li>
</ul>
</li>
<li>Mini-batch <strong>Adam</strong>: it will call your functions:<ul>
<li><code>initialize_adam()</code> and <code>update_parameters_with_adam()</code></li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">model</span><span class="params">(X, Y, layers_dims, optimizer, learning_rate = <span class="number">0.0007</span>, mini_batch_size = <span class="number">64</span>, beta = <span class="number">0.9</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">          beta1 = <span class="number">0.9</span>, beta2 = <span class="number">0.999</span>,  epsilon = <span class="number">1e-8</span>, num_epochs = <span class="number">10000</span>, print_cost = True)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    3-layer neural network model which can be run in different optimizer modes.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">    X -- input data, of shape (2, number of examples)</span></span><br><span class="line"><span class="string">    Y -- true "label" vector (1 for blue dot / 0 for red dot), of shape (1, number of examples)</span></span><br><span class="line"><span class="string">    layers_dims -- python list, containing the size of each layer</span></span><br><span class="line"><span class="string">    learning_rate -- the learning rate, scalar.</span></span><br><span class="line"><span class="string">    mini_batch_size -- the size of a mini batch</span></span><br><span class="line"><span class="string">    beta -- Momentum hyperparameter</span></span><br><span class="line"><span class="string">    beta1 -- Exponential decay hyperparameter for the past gradients estimates </span></span><br><span class="line"><span class="string">    beta2 -- Exponential decay hyperparameter for the past squared gradients estimates </span></span><br><span class="line"><span class="string">    epsilon -- hyperparameter preventing division by zero in Adam updates</span></span><br><span class="line"><span class="string">    num_epochs -- number of epochs</span></span><br><span class="line"><span class="string">    print_cost -- True to print the cost every 1000 epochs</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">    parameters -- python dictionary containing your updated parameters </span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    L = len(layers_dims)             <span class="comment"># number of layers in the neural networks</span></span><br><span class="line">    costs = []                       <span class="comment"># to keep track of the cost</span></span><br><span class="line">    t = <span class="number">0</span>                            <span class="comment"># initializing the counter required for Adam update</span></span><br><span class="line">    seed = <span class="number">10</span>                        <span class="comment"># For grading purposes, so that your "random" minibatches are the same as ours</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Initialize parameters</span></span><br><span class="line">    parameters = initialize_parameters(layers_dims)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Initialize the optimizer</span></span><br><span class="line">    <span class="keyword">if</span> optimizer == <span class="string">"gd"</span>:</span><br><span class="line">        <span class="keyword">pass</span> <span class="comment"># no initialization required for gradient descent</span></span><br><span class="line">    <span class="keyword">elif</span> optimizer == <span class="string">"momentum"</span>:</span><br><span class="line">        v = initialize_velocity(parameters)</span><br><span class="line">    <span class="keyword">elif</span> optimizer == <span class="string">"adam"</span>:</span><br><span class="line">        v, s = initialize_adam(parameters)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Optimization loop</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(num_epochs):</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Define the random minibatches. We increment the seed to reshuffle differently the dataset after each epoch</span></span><br><span class="line">        seed = seed + <span class="number">1</span></span><br><span class="line">        minibatches = random_mini_batches(X, Y, mini_batch_size, seed)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> minibatch <span class="keyword">in</span> minibatches:</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Select a minibatch</span></span><br><span class="line">            (minibatch_X, minibatch_Y) = minibatch</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Forward propagation</span></span><br><span class="line">            a3, caches = forward_propagation(minibatch_X, parameters)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Compute cost</span></span><br><span class="line">            cost = compute_cost(a3, minibatch_Y)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Backward propagation</span></span><br><span class="line">            grads = backward_propagation(minibatch_X, minibatch_Y, caches)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Update parameters</span></span><br><span class="line">            <span class="keyword">if</span> optimizer == <span class="string">"gd"</span>:</span><br><span class="line">                parameters = update_parameters_with_gd(parameters, grads, learning_rate)</span><br><span class="line">            <span class="keyword">elif</span> optimizer == <span class="string">"momentum"</span>:</span><br><span class="line">                parameters, v = update_parameters_with_momentum(parameters, grads, v, beta, learning_rate)</span><br><span class="line">            <span class="keyword">elif</span> optimizer == <span class="string">"adam"</span>:</span><br><span class="line">                t = t + <span class="number">1</span> <span class="comment"># Adam counter</span></span><br><span class="line">                parameters, v, s = update_parameters_with_adam(parameters, grads, v, s,</span><br><span class="line">                                                               t, learning_rate, beta1, beta2,  epsilon)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Print the cost every 1000 epoch</span></span><br><span class="line">        <span class="keyword">if</span> print_cost <span class="keyword">and</span> i % <span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">print</span> (<span class="string">"Cost after epoch %i: %f"</span> %(i, cost))</span><br><span class="line">        <span class="keyword">if</span> print_cost <span class="keyword">and</span> i % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            costs.append(cost)</span><br><span class="line">                </span><br><span class="line">    <span class="comment"># plot the cost</span></span><br><span class="line">    plt.plot(costs)</span><br><span class="line">    plt.ylabel(<span class="string">'cost'</span>)</span><br><span class="line">    plt.xlabel(<span class="string">'epochs (per 100)'</span>)</span><br><span class="line">    plt.title(<span class="string">"Learning rate = "</span> + str(learning_rate))</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> parameters</span><br></pre></td></tr></table></figure>
<p>You will now run this 3 layer neural network with each of the 3 optimization methods.</p>
<h3 id="5-1-Mini-batch-Gradient-descent"><a href="#5-1-Mini-batch-Gradient-descent" class="headerlink" title="5.1 - Mini-batch Gradient descent"></a>5.1 - Mini-batch Gradient descent</h3><p>Run the following code to see how the model does with mini-batch gradient descent.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># train 3-layer model</span></span><br><span class="line">layers_dims = [train_X.shape[<span class="number">0</span>], <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">parameters = model(train_X, train_Y, layers_dims, optimizer = <span class="string">"gd"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Predict</span></span><br><span class="line">predictions = predict(train_X, train_Y, parameters)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot decision boundary</span></span><br><span class="line">plt.title(<span class="string">"Model with Gradient Descent optimization"</span>)</span><br><span class="line">axes = plt.gca()</span><br><span class="line">axes.set_xlim([<span class="number">-1.5</span>,<span class="number">2.5</span>])</span><br><span class="line">axes.set_ylim([<span class="number">-1</span>,<span class="number">1.5</span>])</span><br><span class="line">plot_decision_boundary(<span class="keyword">lambda</span> x: predict_dec(parameters, x.T), train_X, train_Y)</span><br></pre></td></tr></table></figure>
<h3 id="5-2-Mini-batch-gradient-descent-with-momentum"><a href="#5-2-Mini-batch-gradient-descent-with-momentum" class="headerlink" title="5.2 - Mini-batch gradient descent with momentum"></a>5.2 - Mini-batch gradient descent with momentum</h3><p>Run the following code to see how the model does with momentum. Because this example is relatively simple, the gains from using momemtum are small; but for more complex problems you might see bigger gains.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># train 3-layer model</span></span><br><span class="line">layers_dims = [train_X.shape[<span class="number">0</span>], <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">parameters = model(train_X, train_Y, layers_dims, beta = <span class="number">0.9</span>, optimizer = <span class="string">"momentum"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Predict</span></span><br><span class="line">predictions = predict(train_X, train_Y, parameters)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot decision boundary</span></span><br><span class="line">plt.title(<span class="string">"Model with Momentum optimization"</span>)</span><br><span class="line">axes = plt.gca()</span><br><span class="line">axes.set_xlim([<span class="number">-1.5</span>,<span class="number">2.5</span>])</span><br><span class="line">axes.set_ylim([<span class="number">-1</span>,<span class="number">1.5</span>])</span><br><span class="line">plot_decision_boundary(<span class="keyword">lambda</span> x: predict_dec(parameters, x.T), train_X, train_Y)</span><br></pre></td></tr></table></figure>
<h3 id="5-3-Mini-batch-with-Adam-mode"><a href="#5-3-Mini-batch-with-Adam-mode" class="headerlink" title="5.3 - Mini-batch with Adam mode"></a>5.3 - Mini-batch with Adam mode</h3><p>Run the following code to see how the model does with Adam.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># train 3-layer model</span></span><br><span class="line">layers_dims = [train_X.shape[<span class="number">0</span>], <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">parameters = model(train_X, train_Y, layers_dims, optimizer = <span class="string">"adam"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Predict</span></span><br><span class="line">predictions = predict(train_X, train_Y, parameters)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot decision boundary</span></span><br><span class="line">plt.title(<span class="string">"Model with Adam optimization"</span>)</span><br><span class="line">axes = plt.gca()</span><br><span class="line">axes.set_xlim([<span class="number">-1.5</span>,<span class="number">2.5</span>])</span><br><span class="line">axes.set_ylim([<span class="number">-1</span>,<span class="number">1.5</span>])</span><br><span class="line">plot_decision_boundary(<span class="keyword">lambda</span> x: predict_dec(parameters, x.T), train_X, train_Y)</span><br></pre></td></tr></table></figure></p>
<h3 id="5-4-Summary"><a href="#5-4-Summary" class="headerlink" title="5.4 - Summary"></a>5.4 - Summary</h3><table><br>    <tr><br>        <td><br>        <strong>optimization method</strong><br>        </td><br>        <td><br>        <strong>accuracy</strong><br>        </td><br>        <td><br>        <strong>cost shape</strong><br>        </td><br><br>    </tr><br>        <td><br>        Gradient descent<br>        </td><br>        <td><br>        79.7%<br>        </td><br>        <td><br>        oscillations<br>        </td><br>    <tr><br>        <td><br>        Momentum<br>        </td><br>        <td><br>        79.7%<br>        </td><br>        <td><br>        oscillations<br>        </td><br>    </tr><br>    <tr><br>        <td><br>        Adam<br>        </td><br>        <td><br>        94%<br>        </td><br>        <td><br>        smoother<br>        </td><br>    </tr><br></table> 

<p>Momentum usually helps, but given the small learning rate and the simplistic dataset, its impact is almost negligeable. Also, the huge oscillations you see in the cost come from the fact that some minibatches are more difficult thans others for the optimization algorithm.</p>
<p>Adam on the other hand, clearly outperforms mini-batch gradient descent and Momentum. If you run the model for more epochs on this simple dataset, all three methods will lead to very good results. However, you’ve seen that Adam converges a lot faster.</p>
<p>Some advantages of Adam include:</p>
<ul>
<li>Relatively low memory requirements (though higher than gradient descent and gradient descent with momentum) </li>
<li>Usually works well even with little tuning of hyperparameters (except $\alpha$)</li>
</ul>
<p><strong>References</strong>:</p>
<ul>
<li>Adam paper: <a href="https://arxiv.org/pdf/1412.6980.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/1412.6980.pdf</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/07/2018-08-07-Blog-Test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jin Wang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/07/2018-08-07-Blog-Test/" itemprop="url">Blog Test</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-07T00:00:00+08:00">
                2018-08-07
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/07/2018-08-07-Blog-Test/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/07/2018-08-07-Blog-Test/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Blog test</p>
</blockquote>
<h2 id="Blog-test"><a href="#Blog-test" class="headerlink" title="Blog test"></a>Blog test</h2><p>Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test Blog test </p>
<hr>
<p>本文是“Blog Test” ;)</p>
<p>尽请期待：</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/07/2018-08-07-liulishuo-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jin Wang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/07/2018-08-07-liulishuo-5/" itemprop="url">Liulishuo English Reading Day5</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-07T00:00:00+08:00">
                2018-08-07
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/07/2018-08-07-liulishuo-5/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/07/2018-08-07-liulishuo-5/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Trump-blasts-back-after-Times-publisher-decries-‘enemy-of-the-people’-attacks"><a href="#Trump-blasts-back-after-Times-publisher-decries-‘enemy-of-the-people’-attacks" class="headerlink" title="Trump blasts back after Times publisher decries ‘enemy of the people’ attacks"></a>Trump blasts back after Times publisher decries ‘enemy of the people’ attacks</h2><ul>
<li>blast v. 猛烈抨击</li>
<li>decry v.  to say publicly and forcefully that you regard (something) as bad, wrong, etc.</li>
<li>TImes: New York Times</li>
<li>‘enemy of the people’ 人民公敌</li>
</ul>
<p>Hours after saying he had a “very good meeting” with the publisher of the New York Times about his labelling the press the “enemy of the people”, Donald Trump launched a blistering attack on “anti-Trump haters in the dying newspaper industry”.</p>
<ul>
<li>about 后面具体讲述meeting的内容</li>
<li>label v. 给…贴标签 <ul>
<li>label sb/sth (as) sth  </li>
<li>eg. label the baby naughty</li>
</ul>
</li>
<li>blistering adj. 无情的，严酷的: very harsh or powerful, extremely intense or severe<ul>
<li>blister n. 水泡</li>
</ul>
</li>
</ul>
<p>特朗普声称自己与纽约时报的发行人进行了一次“很好的会面”，讨论了自己将媒体称为“人民的敌人”的行为。然而几个小时之后，特朗普发起了猛烈的攻击，矛头直指那些“垂死的报纸行业中反对特朗普的仇恨者们”。</p>
<p>“The failing New York Times and the Amazon Washington Post do nothing but write bad stories even on very positive achievements,” Trump tweeted. “And they will never change!” Earlier, the White House confirmed Trump met Times’ publisher AG Sulzberger on 20 July. Sulzberger then issued a statement that opened an exchange over whose activities were more damaging to America.</p>
<ul>
<li>do nothing but 除了…什么都不做<ul>
<li>eg. We do nothing but fight.</li>
</ul>
</li>
<li>issue a statement</li>
<li>exchange 原来表示“交换”，但在作名词的时候，可以指“语言方面的交换”，也就是“对话、争论”<ul>
<li>eg. a heated <del>debate, argument</del> exchange （升级词汇！）</li>
</ul>
</li>
<li>over: exchange争论的是什么呢？</li>
</ul>
<p>特朗普发推称：“失败的纽约时报以及受亚马逊控制的华盛顿邮报，除了撰写负面新闻外什么都不做，就连一些积极的成就也能被写成负面新闻。并且他们永远不会改变！”早些时候，白宫方面确认，特朗普已于 7 月 20 日会见了纽约时报的发行人 A·G·苏兹伯格。苏兹伯格随后发表了一篇声明，由此开始了“特朗普与新闻界，究竟哪一方的行为给美国带来更多损害”的争论。</p>
<p>Sulzberger said he had raised “concerns about the president’s deeply troubling anti-press rhetoric” and “implored him to reconsider his broader attacks on journalism, which I believe are dangerous and harmful to our country”.</p>
<ul>
<li>rhetoric n. 修辞，修辞学，接在人后面指“煽动别人的花言巧语”</li>
<li>implore v. 恳求<ul>
<li>implore sb to do sth</li>
</ul>
</li>
</ul>
<p>苏兹伯格称他表达了“对总统令人深感不安的反媒体言辞的担忧”，并“请求他重新审视他对新闻界的广泛攻击，这一攻击在我看来对国家是危险而有害的。”</p>
<p>He did not say how the president responded. Hours later, Trump obliged. In a multi-tweet rant, he claimed reports on “internal deliberations of our government … truly put the lives of many, not just journalists, at risk”. Claiming without evidence that “90% of media coverage of my administration is negative”, Trump said he would “not allow our great country to be sold out by anti-Trump haters in the dying newspaper industry”.</p>
<ul>
<li>oblige v. : do as sb asks in order to help or please them</li>
<li>rant v. shout in a wild way</li>
<li>deliberation n. 正式的讨论，商议: careful thought or discussion done in order to make a decision</li>
</ul>
<p>他没有陈述总统在会谈中如何回应。不过几个小时后，特朗普帮他补充了这一缺失的信息。在连续多条推特的痛斥中，他声称那些关于“政府内部协商”的报道，“不仅仅是在拿记者们的生命冒险，更是真正地将许多人的生命置于危险之中。”在没有给出任何事实依据的情况下，他声称：“关于我的政府的媒体报道中，90%是负面新闻”。特朗普说，他“不会允许我们的伟大国家被垂死的报纸行业中那些反对特朗普的仇恨者们出卖”。</p>
<p>Sulzberger, 37, took over from his father on 1 January. In his statement, he said: “I told the president directly that I thought that his language was not just divisive but increasingly dangerous. I told him that although the phrase ‘fake news’ is untrue and harmful, I am far more concerned about his labelling journalists ‘the enemy of the people’.”</p>
<ul>
<li>take over from 接任</li>
<li>divisive adj. 引起分裂的，造成各方敌意的<ul>
<li>eg. Unemployment is socially divisive. 无业、待业会引发社会分裂。</li>
</ul>
</li>
<li>far more concerned</li>
</ul>
<p>37 岁的苏兹伯格今年一月一日接替其父亲就任纽约时报发行人。在他的声明中，他表示：“我直截了当地告诉总统，我认为他的言论不仅是在引起敌意，而且愈发地危险。我告诉他，尽管‘假新闻’这一说法不实且有害，但是我更担心的是他给记者们冠上的‘人民的敌人’这样的标签。”</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/avatar.jpg"
                alt="Jin Wang" />
            
              <p class="site-author-name" itemprop="name">Jin Wang</p>
              <p class="site-description motion-element" itemprop="description">Silence and tears</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/TFprimeWJ" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/tfprime" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jin Wang</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://Jinwang.disqus.com/count.js" async></script>
    

    

  




	





  














  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
